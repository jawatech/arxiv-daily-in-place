{"2409.16986": {"publish_time": "2024-09-25", "title": "Harnessing Diversity for Important Data Selection in Pretraining Large Language Models", "paper_summary": "Data selection is of great significance in pre-training large language\nmodels, given the variation in quality within the large-scale available\ntraining corpora. To achieve this, researchers are currently investigating the\nuse of data influence to measure the importance of data instances, $i.e.,$ a\nhigh influence score indicates that incorporating this instance to the training\nset is likely to enhance the model performance. Consequently, they select the\ntop-$k$ instances with the highest scores. However, this approach has several\nlimitations. (1) Computing the influence of all available data is\ntime-consuming. (2) The selected data instances are not diverse enough, which\nmay hinder the pre-trained model's ability to generalize effectively to various\ndownstream tasks. In this paper, we introduce \\texttt{Quad}, a data selection\napproach that considers both quality and diversity by using data influence to\nachieve state-of-the-art pre-training results. In particular, noting that\nattention layers capture extensive semantic details, we have adapted the\naccelerated $iHVP$ computation methods for attention layers, enhancing our\nability to evaluate the influence of data, $i.e.,$ its quality. For the\ndiversity, \\texttt{Quad} clusters the dataset into similar data instances\nwithin each cluster and diverse instances across different clusters. For each\ncluster, if we opt to select data from it, we take some samples to evaluate the\ninfluence to prevent processing all instances. To determine which clusters to\nselect, we utilize the classic Multi-Armed Bandit method, treating each cluster\nas an arm. This approach favors clusters with highly influential instances\n(ensuring high quality) or clusters that have been selected less frequently\n(ensuring diversity), thereby well balancing between quality and diversity.", "paper_summary_zh": "<paragraph>\u5728\u9810\u8a13\u7df4\u5927\u578b\u8a9e\u8a00\u6a21\u578b\u6642\uff0c\u7531\u65bc\u5927\u578b\u53ef\u7528\u8a13\u7df4\u8a9e\u6599\u5eab\u4e2d\u7684\u54c1\u8cea\u5dee\u7570\uff0c\u8cc7\u6599\u9078\u64c7\u975e\u5e38\u91cd\u8981\u3002\u70ba\u4e86\u9054\u6210\u6b64\u76ee\u7684\uff0c\u7814\u7a76\u4eba\u54e1\u76ee\u524d\u6b63\u5728\u7814\u7a76\u4f7f\u7528\u8cc7\u6599\u5f71\u97ff\u529b\u4f86\u8861\u91cf\u8cc7\u6599\u5be6\u4f8b\u7684\u91cd\u8981\u7a0b\u5ea6\uff0c$i.e.,$ \u9ad8\u5f71\u97ff\u529b\u5206\u6578\u8868\u793a\u5c07\u6b64\u5be6\u4f8b\u7d0d\u5165\u8a13\u7df4\u96c6\u53ef\u80fd\u6703\u63d0\u5347\u6a21\u578b\u6548\u80fd\u3002\u56e0\u6b64\uff0c\u4ed6\u5011\u6703\u9078\u51fa\u5206\u6578\u6700\u9ad8\u7684\u524d $k$ \u500b\u5be6\u4f8b\u3002\u7136\u800c\uff0c\u6b64\u65b9\u6cd5\u6709\u5e7e\u500b\u9650\u5236\u3002(1) \u8a08\u7b97\u6240\u6709\u53ef\u7528\u8cc7\u6599\u7684\u5f71\u97ff\u529b\u5f88\u8017\u6642\u3002(2) \u9078\u51fa\u7684\u8cc7\u6599\u5be6\u4f8b\u4e0d\u5920\u591a\u5143\uff0c\u9019\u53ef\u80fd\u6703\u59a8\u7919\u9810\u8a13\u7df4\u6a21\u578b\u6709\u6548\u5730\u5c0d\u5404\u7a2e\u4e0b\u6e38\u4efb\u52d9\u9032\u884c\u6982\u5316\u3002\u5728\u672c\u6587\u4e2d\uff0c\u6211\u5011\u4ecb\u7d39\u4e86 \\texttt{Quad}\uff0c\u9019\u662f\u4e00\u7a2e\u8cc7\u6599\u9078\u64c7\u65b9\u6cd5\uff0c\u900f\u904e\u4f7f\u7528\u8cc7\u6599\u5f71\u97ff\u529b\u4f86\u517c\u9867\u54c1\u8cea\u548c\u591a\u5143\u6027\uff0c\u4ee5\u9054\u6210\u6700\u5148\u9032\u7684\u9810\u8a13\u7df4\u7d50\u679c\u3002\u7279\u5225\u8981\u6ce8\u610f\u7684\u662f\uff0c\u6ce8\u610f\u529b\u5c64\u6703\u64f7\u53d6\u5ee3\u6cdb\u7684\u8a9e\u7fa9\u7d30\u7bc0\uff0c\u6211\u5011\u5df2\u91dd\u5c0d\u6ce8\u610f\u529b\u5c64\u8abf\u6574\u52a0\u901f\u7684 $iHVP$ \u8a08\u7b97\u65b9\u6cd5\uff0c\u589e\u5f37\u6211\u5011\u8a55\u4f30\u8cc7\u6599\u5f71\u97ff\u529b\uff08\u5373\u5176\u54c1\u8cea\uff09\u7684\u80fd\u529b\u3002\u5c0d\u65bc\u591a\u5143\u6027\uff0c\\texttt{Quad} \u5c07\u8cc7\u6599\u96c6\u5206\u7fa4\u70ba\u6bcf\u500b\u7fa4\u96c6\u5167\u90e8\u76f8\u4f3c\u7684\u8cc7\u6599\u5be6\u4f8b\uff0c\u4ee5\u53ca\u4e0d\u540c\u7fa4\u96c6\u4e4b\u9593\u4e0d\u540c\u7684\u5be6\u4f8b\u3002\u5c0d\u65bc\u6bcf\u500b\u7fa4\u96c6\uff0c\u5982\u679c\u6211\u5011\u9078\u64c7\u5f9e\u4e2d\u9078\u53d6\u8cc7\u6599\uff0c\u6211\u5011\u6703\u53d6\u5f97\u4e00\u4e9b\u6a23\u672c\u4f86\u8a55\u4f30\u5f71\u97ff\u529b\uff0c\u4ee5\u907f\u514d\u8655\u7406\u6240\u6709\u5be6\u4f8b\u3002\u70ba\u4e86\u6c7a\u5b9a\u8981\u9078\u53d6\u54ea\u4e9b\u7fa4\u96c6\uff0c\u6211\u5011\u5229\u7528\u7d93\u5178\u7684\u591a\u91cd\u6a5f\u7387\u8ced\u5f92\u6cd5\uff0c\u5c07\u6bcf\u500b\u7fa4\u96c6\u8996\u70ba\u4e00\u500b\u6a5f\u7387\u3002\u6b64\u65b9\u6cd5\u504f\u597d\u5177\u6709\u9ad8\u5f71\u97ff\u529b\u5be6\u4f8b\u7684\u7fa4\u96c6\uff08\u78ba\u4fdd\u9ad8\u54c1\u8cea\uff09\u6216\u8f03\u5c11\u88ab\u9078\u53d6\u7684\u7fa4\u96c6\uff08\u78ba\u4fdd\u591a\u5143\u6027\uff09\uff0c\u5f9e\u800c\u5f88\u597d\u5730\u5e73\u8861\u54c1\u8cea\u548c\u591a\u5143\u6027\u3002</paragraph>", "author": "Chi Zhang et.al.", "authors": "Chi Zhang, Huaping Zhong, Kuan Zhang, Chengliang Chai, Rui Wang, Xinlin Zhuang, Tianyi Bai, Jiantao Qiu, Lei Cao, Ye Yuan, Guoren Wang, Conghui He", "id": "2409.16986v1", "paper_url": "http://arxiv.org/abs/2409.16986v1", "repo": "null"}}