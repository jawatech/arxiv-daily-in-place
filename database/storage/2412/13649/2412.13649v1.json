{"2412.13649": {"publish_time": "2024-12-18", "title": "SCOPE: Optimizing Key-Value Cache Compression in Long-context Generation", "paper_summary": "Key-Value (KV) cache has become a bottleneck of LLMs for long-context\ngeneration. Despite the numerous efforts in this area, the optimization for the\ndecoding phase is generally ignored. However, we believe such optimization is\ncrucial, especially for long-output generation tasks based on the following two\nobservations: (i) Excessive compression during the prefill phase, which\nrequires specific full context impairs the comprehension of the reasoning task;\n(ii) Deviation of heavy hitters occurs in the reasoning tasks with long\noutputs. Therefore, SCOPE, a simple yet efficient framework that separately\nperforms KV cache optimization during the prefill and decoding phases, is\nintroduced. Specifically, the KV cache during the prefill phase is preserved to\nmaintain the essential information, while a novel strategy based on sliding is\nproposed to select essential heavy hitters for the decoding phase. Memory usage\nand memory transfer are further optimized using adaptive and discontinuous\nstrategies. Extensive experiments on LongGenBench show the effectiveness and\ngeneralization of SCOPE and its compatibility as a plug-in to other\nprefill-only KV compression methods.", "paper_summary_zh": "\u9375\u503c (KV) \u5feb\u53d6\u5df2\u6210\u70ba\u9577\u8a9e\u5883\u751f\u6210 LLM \u7684\u74f6\u9838\u3002\u5118\u7ba1\u5728\u8a72\u9818\u57df\u4ed8\u51fa\u4e86\u8a31\u591a\u52aa\u529b\uff0c\u4f46\u901a\u5e38\u6703\u5ffd\u7565\u5c0d\u89e3\u78bc\u968e\u6bb5\u7684\u6700\u4f73\u5316\u3002\u7136\u800c\uff0c\u6211\u5011\u76f8\u4fe1\u9019\u7a2e\u6700\u4f73\u5316\u81f3\u95dc\u91cd\u8981\uff0c\u7279\u5225\u662f\u57fa\u65bc\u4ee5\u4e0b\u5169\u500b\u89c0\u5bdf\u7d50\u679c\u7684\u9577\u8f38\u51fa\u751f\u6210\u4efb\u52d9\uff1a(i) \u9810\u586b\u5145\u968e\u6bb5\u7684\u904e\u5ea6\u58d3\u7e2e\uff0c\u9700\u8981\u7279\u5b9a\u7684\u5b8c\u6574\u8a9e\u5883\u6703\u640d\u5bb3\u5c0d\u63a8\u7406\u4efb\u52d9\u7684\u7406\u89e3\uff1b(ii) \u5728\u5177\u6709\u9577\u8f38\u51fa\u7684\u63a8\u7406\u4efb\u52d9\u4e2d\u6703\u767c\u751f\u91cd\u64ca\u624b\u7684\u504f\u5dee\u3002\u56e0\u6b64\uff0c\u5f15\u5165\u4e86 SCOPE\uff0c\u4e00\u500b\u7c21\u55ae\u800c\u9ad8\u6548\u7684\u6846\u67b6\uff0c\u5728\u9810\u586b\u5145\u548c\u89e3\u78bc\u968e\u6bb5\u5206\u5225\u57f7\u884c KV \u5feb\u53d6\u6700\u4f73\u5316\u3002\u5177\u9ad4\u800c\u8a00\uff0c\u9810\u586b\u5145\u968e\u6bb5\u7684 KV \u5feb\u53d6\u88ab\u4fdd\u7559\u4ee5\u7dad\u8b77\u5fc5\u8981\u8cc7\u8a0a\uff0c\u540c\u6642\u63d0\u51fa\u4e86\u4e00\u7a2e\u57fa\u65bc\u6ed1\u52d5\u7684\u65b0\u7b56\u7565\u4f86\u9078\u64c7\u89e3\u78bc\u968e\u6bb5\u7684\u5fc5\u8981\u91cd\u64ca\u624b\u3002\u4f7f\u7528\u81ea\u9069\u61c9\u548c\u4e0d\u9023\u7e8c\u7b56\u7565\u9032\u4e00\u6b65\u6700\u4f73\u5316\u8a18\u61b6\u9ad4\u4f7f\u7528\u548c\u8a18\u61b6\u9ad4\u50b3\u8f38\u3002\u5728 LongGenBench \u4e0a\u9032\u884c\u7684\u5ee3\u6cdb\u5be6\u9a57\u986f\u793a\u4e86 SCOPE \u7684\u6709\u6548\u6027\u548c\u6cdb\u5316\u6027\uff0c\u4ee5\u53ca\u5b83\u4f5c\u70ba\u5176\u4ed6\u50c5\u9810\u586b\u5145 KV \u58d3\u7e2e\u65b9\u6cd5\u7684\u63d2\u5165\u6a21\u7d44\u7684\u76f8\u5bb9\u6027\u3002", "author": "Jialong Wu et.al.", "authors": "Jialong Wu, Zhenglin Wang, Linhai Zhang, Yilong Lai, Yulan He, Deyu Zhou", "id": "2412.13649v1", "paper_url": "http://arxiv.org/abs/2412.13649v1", "repo": "null"}}