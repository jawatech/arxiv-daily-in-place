{"2406.04197": {"publish_time": "2024-06-06", "title": "DICE: Detecting In-distribution Contamination in LLM's Fine-tuning Phase for Math Reasoning", "paper_summary": "The advancement of large language models (LLMs) relies on evaluation using\npublic benchmarks, but data contamination can lead to overestimated\nperformance. Previous researches focus on detecting contamination by\ndetermining whether the model has seen the exact same data during training. In\nthis work, we argue that even training on data similar to benchmark data\ninflates performance on in-distribution tasks without improving overall\ncapacity, which we called In-distribution contamination. To effectively detect\nin-distribution contamination, we propose DICE, a novel method that leverages\nthe internal states of LLMs to locate-then-detect the contamination. DICE first\nidentifies the most sensitive layer to contamination, then trains a classifier\nbased on the internal states of that layer. Experiments reveal DICE's high\naccuracy in detecting in-distribution contamination across various LLMs and\nmath reasoning datasets. We also show the generalization capability of the\ntrained DICE detector, which is able to detect contamination across multiple\nbenchmarks with similar distributions. Additionally, we find that the DICE\ndetection scores are positively correlated with the performance of ten LLMs\nfine-tuned by either us or other organizations on four math reasoning datasets\n(with $R^2$ values between 0.6 and 0.75). This indicates that the\nin-distribution contamination problem potentially lead to an overestimation of\nthe true capabilities of many existing models. The code and data are available\nat https://github.com/THU-KEG/DICE.", "paper_summary_zh": "\u5927\u578b\u8a9e\u8a00\u6a21\u578b\uff08LLM\uff09\u7684\u9032\u5c55\u4f9d\u8cf4\u65bc\u4f7f\u7528\u516c\u5171\u57fa\u6e96\u9032\u884c\u8a55\u4f30\uff0c\u4f46\u8cc7\u6599\u6c61\u67d3\u53ef\u80fd\u6703\u5c0e\u81f4\u9ad8\u4f30\u6548\u80fd\u3002\u5148\u524d\u7684\u7814\u7a76\u5c08\u6ce8\u65bc\u900f\u904e\u5224\u65b7\u6a21\u578b\u5728\u8a13\u7df4\u671f\u9593\u662f\u5426\u770b\u5230\u5b8c\u5168\u76f8\u540c\u7684\u8cc7\u6599\u4f86\u5075\u6e2c\u6c61\u67d3\u3002\u5728\u9019\u9805\u5de5\u4f5c\u4e2d\uff0c\u6211\u5011\u4e3b\u5f35\u5373\u4f7f\u8a13\u7df4\u8207\u57fa\u6e96\u8cc7\u6599\u985e\u4f3c\u7684\u8cc7\u6599\u4e5f\u6703\u63d0\u5347\u5c0d\u5206\u4f48\u5167\u4efb\u52d9\u7684\u6548\u80fd\uff0c\u800c\u4e0d\u6703\u6539\u5584\u6574\u9ad4\u5bb9\u91cf\uff0c\u6211\u5011\u7a31\u4e4b\u70ba\u5206\u4f48\u5167\u6c61\u67d3\u3002\u70ba\u4e86\u6709\u6548\u5075\u6e2c\u5206\u4f48\u5167\u6c61\u67d3\uff0c\u6211\u5011\u63d0\u51fa DICE\uff0c\u9019\u662f\u4e00\u7a2e\u65b0\u65b9\u6cd5\uff0c\u5229\u7528 LLM \u7684\u5167\u90e8\u72c0\u614b\u4f86\u5b9a\u4f4d\u4e26\u5075\u6e2c\u6c61\u67d3\u3002DICE \u9996\u5148\u627e\u51fa\u5c0d\u6c61\u67d3\u6700\u654f\u611f\u7684\u5c64\uff0c\u7136\u5f8c\u6839\u64da\u8a72\u5c64\u7684\u5167\u90e8\u72c0\u614b\u8a13\u7df4\u5206\u985e\u5668\u3002\u5be6\u9a57\u986f\u793a DICE \u5728\u5075\u6e2c\u5404\u7a2e LLM \u548c\u6578\u5b78\u63a8\u7406\u8cc7\u6599\u96c6\u4e2d\u7684\u5206\u4f48\u5167\u6c61\u67d3\u6642\u5177\u6709\u9ad8\u5ea6\u6e96\u78ba\u6027\u3002\u6211\u5011\u9084\u5c55\u793a\u4e86\u8a13\u7df4\u597d\u7684 DICE \u5075\u6e2c\u5668\u7684\u6cdb\u5316\u80fd\u529b\uff0c\u5b83\u80fd\u5920\u5075\u6e2c\u5177\u6709\u985e\u4f3c\u5206\u4f48\u7684\u5404\u7a2e\u57fa\u6e96\u4e2d\u7684\u6c61\u67d3\u3002\u6b64\u5916\uff0c\u6211\u5011\u767c\u73fe DICE \u5075\u6e2c\u5206\u6578\u8207\u6211\u5011\u6216\u5176\u4ed6\u7d44\u7e54\u5728\u56db\u500b\u6578\u5b78\u63a8\u7406\u8cc7\u6599\u96c6\u4e0a\u5fae\u8abf\u7684\u5341\u500b LLM \u7684\u6548\u80fd\u5448\u6b63\u76f8\u95dc\uff08$R^2$ \u503c\u5728 0.6 \u5230 0.75 \u4e4b\u9593\uff09\u3002\u9019\u8868\u793a\u5206\u4f48\u5167\u6c61\u67d3\u554f\u984c\u53ef\u80fd\u5c0e\u81f4\u9ad8\u4f30\u8a31\u591a\u73fe\u6709\u6a21\u578b\u7684\u771f\u6b63\u80fd\u529b\u3002\u7a0b\u5f0f\u78bc\u548c\u8cc7\u6599\u53ef\u4ee5\u5728 https://github.com/THU-KEG/DICE \u627e\u5230\u3002", "author": "Shangqing Tu et.al.", "authors": "Shangqing Tu, Kejian Zhu, Yushi Bai, Zijun Yao, Lei Hou, Juanzi Li", "id": "2406.04197v1", "paper_url": "http://arxiv.org/abs/2406.04197v1", "repo": "https://github.com/thu-keg/dice"}}