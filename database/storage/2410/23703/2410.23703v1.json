{"2410.23703": {"publish_time": "2024-10-31", "title": "OCEAN: Offline Chain-of-thought Evaluation and Alignment in Large Language Models", "paper_summary": "Offline evaluation of LLMs is crucial in understanding their capacities,\nthough current methods remain underexplored in existing research. In this work,\nwe focus on the offline evaluation of the chain-of-thought capabilities and\nshow how to optimize LLMs based on the proposed evaluation method. To enable\noffline feedback with rich knowledge and reasoning paths, we use knowledge\ngraphs (e.g., Wikidata5m) to provide feedback on the generated chain of\nthoughts. Due to the heterogeneity between LLM reasoning and KG structures,\ndirect interaction and feedback from KGs on LLM behavior are challenging, as\nthey require accurate entity linking and grounding of LLM-generated chains of\nthought in the KG. To address the above challenge, we propose an offline\nchain-of-thought evaluation framework, OCEAN, which models chain-of-thought\nreasoning in LLMs as an MDP and evaluate the policy's alignment with KG\npreference modeling. To overcome the reasoning heterogeneity and grounding\nproblems, we leverage on-policy KG exploration and RL to model a KG policy that\ngenerates token-level likelihood distributions for LLM-generated\nchain-of-thought reasoning paths, simulating KG reasoning preference. Then we\nincorporate the knowledge-graph feedback on the validity and alignment of the\ngenerated reasoning paths into inverse propensity scores and propose KG-IPS\nestimator. Theoretically, we prove the unbiasedness of the proposed KG-IPS\nestimator and provide a lower bound on its variance. With the off-policy\nevaluated value function, we can directly enable off-policy optimization to\nfurther enhance chain-of-thought alignment. Our empirical study shows that\nOCEAN can be efficiently optimized for generating chain-of-thought reasoning\npaths with higher estimated values without affecting LLMs' general abilities in\ndownstream tasks or their internal knowledge.", "paper_summary_zh": "\u96e2\u7dda\u8a55\u4f30 LLM \u5c0d\u65bc\u4e86\u89e3\u5176\u5bb9\u91cf\u81f3\u95dc\u91cd\u8981\uff0c\u5118\u7ba1\u76ee\u524d\u7684\u65b9\u6cd5\u5728\u73fe\u6709\u7814\u7a76\u4e2d\u4ecd\u672a\u5f97\u5230\u5145\u5206\u63a2\u8a0e\u3002\u5728\u9019\u9805\u5de5\u4f5c\u4e2d\uff0c\u6211\u5011\u5c08\u6ce8\u65bc\u5c0d\u601d\u7dad\u93c8\u80fd\u529b\u7684\u96e2\u7dda\u8a55\u4f30\uff0c\u4e26\u5c55\u793a\u5982\u4f55\u6839\u64da\u63d0\u8b70\u7684\u8a55\u4f30\u65b9\u6cd5\u512a\u5316 LLM\u3002\u70ba\u4e86\u4f7f\u7528\u8c50\u5bcc\u7684\u77e5\u8b58\u548c\u63a8\u7406\u8def\u5f91\u555f\u7528\u96e2\u7dda\u56de\u994b\uff0c\u6211\u5011\u4f7f\u7528\u77e5\u8b58\u5716\u8b5c\uff08\u4f8b\u5982 Wikidata5m\uff09\u5c0d\u751f\u6210\u7684\u601d\u7dad\u93c8\u63d0\u4f9b\u56de\u994b\u3002\u7531\u65bc LLM \u63a8\u7406\u548c KG \u7d50\u69cb\u4e4b\u9593\u7684\u7570\u8cea\u6027\uff0cKG \u5c0d LLM \u884c\u70ba\u7684\u76f4\u63a5\u4e92\u52d5\u548c\u56de\u994b\u5177\u6709\u6311\u6230\u6027\uff0c\u56e0\u70ba\u5b83\u5011\u9700\u8981\u6e96\u78ba\u7684\u5be6\u9ad4\u9023\u7d50\u548c LLM \u751f\u6210\u7684\u601d\u7dad\u93c8\u5728 KG \u4e2d\u7684\u57fa\u790e\u3002\u70ba\u4e86\u61c9\u5c0d\u4e0a\u8ff0\u6311\u6230\uff0c\u6211\u5011\u63d0\u51fa\u4e86\u4e00\u500b\u96e2\u7dda\u601d\u7dad\u93c8\u8a55\u4f30\u6846\u67b6 OCEAN\uff0c\u5b83\u5c07 LLM \u4e2d\u7684\u601d\u7dad\u93c8\u63a8\u7406\u5efa\u6a21\u70ba MDP\uff0c\u4e26\u8a55\u4f30\u7b56\u7565\u8207 KG \u504f\u597d\u5efa\u6a21\u7684\u4e00\u81f4\u6027\u3002\u70ba\u4e86\u514b\u670d\u63a8\u7406\u7570\u8cea\u6027\u548c\u57fa\u790e\u554f\u984c\uff0c\u6211\u5011\u5229\u7528\u7b56\u7565\u5167 KG \u63a2\u7d22\u548c RL \u4f86\u5efa\u6a21 KG \u7b56\u7565\uff0c\u8a72\u7b56\u7565\u70ba LLM \u751f\u6210\u7684\u601d\u7dad\u93c8\u63a8\u7406\u8def\u5f91\u751f\u6210\u4ee4\u724c\u7d1a\u5225\u7684\u53ef\u80fd\u6027\u5206\u5e03\uff0c\u6a21\u64ec KG \u63a8\u7406\u504f\u597d\u3002\u7136\u5f8c\uff0c\u6211\u5011\u5c07\u77e5\u8b58\u5716\u8b5c\u5c0d\u751f\u6210\u63a8\u7406\u8def\u5f91\u7684\u6709\u6548\u6027\u548c\u4e00\u81f4\u6027\u7684\u56de\u994b\u7d0d\u5165\u9006\u50be\u5411\u5f97\u5206\u4e26\u63d0\u51fa KG-IPS \u4f30\u8a08\u5668\u3002\u5728\u7406\u8ad6\u4e0a\uff0c\u6211\u5011\u8b49\u660e\u4e86\u6240\u63d0\u51fa\u7684 KG-IPS \u4f30\u8a08\u5668\u7684\u7121\u504f\u6027\uff0c\u4e26\u63d0\u4f9b\u4e86\u5176\u8b8a\u7570\u6578\u7684\u4e0b\u9650\u3002\u900f\u904e\u7b56\u7565\u5916\u8a55\u4f30\u7684\u50f9\u503c\u51fd\u6578\uff0c\u6211\u5011\u53ef\u4ee5\u76f4\u63a5\u555f\u7528\u7b56\u7565\u5916\u6700\u4f73\u5316\uff0c\u4ee5\u9032\u4e00\u6b65\u589e\u5f37\u601d\u7dad\u93c8\u4e00\u81f4\u6027\u3002\u6211\u5011\u7684\u5be6\u8b49\u7814\u7a76\u8868\u660e\uff0cOCEAN \u53ef\u4ee5\u91dd\u5c0d\u751f\u6210\u601d\u7dad\u93c8\u63a8\u7406\u8def\u5f91\u9032\u884c\u6709\u6548\u6700\u4f73\u5316\uff0c\u4e26\u63d0\u9ad8\u4f30\u8a08\u503c\uff0c\u800c\u4e0d\u6703\u5f71\u97ff LLM \u5728\u4e0b\u6e38\u4efb\u52d9\u6216\u5176\u5167\u90e8\u77e5\u8b58\u4e2d\u7684\u4e00\u822c\u80fd\u529b\u3002", "author": "Junda Wu et.al.", "authors": "Junda Wu, Xintong Li, Ruoyu Wang, Yu Xia, Yuxin Xiong, Jianing Wang, Tong Yu, Xiang Chen, Branislav Kveton, Lina Yao, Jingbo Shang, Julian McAuley", "id": "2410.23703v1", "paper_url": "http://arxiv.org/abs/2410.23703v1", "repo": "null"}}