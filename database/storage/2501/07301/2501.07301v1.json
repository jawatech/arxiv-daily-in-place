{"2501.07301": {"publish_time": "2025-01-13", "title": "The Lessons of Developing Process Reward Models in Mathematical Reasoning", "paper_summary": "Process Reward Models (PRMs) emerge as a promising approach for process\nsupervision in mathematical reasoning of Large Language Models (LLMs), which\naim to identify and mitigate intermediate errors in the reasoning processes.\nHowever, the development of effective PRMs faces significant challenges,\nparticularly in data annotation and evaluation methodologies. In this paper,\nthrough extensive experiments, we demonstrate that commonly used Monte Carlo\n(MC) estimation-based data synthesis for PRMs typically yields inferior\nperformance and generalization compared to LLM-as-a-judge and human annotation\nmethods. MC estimation relies on completion models to evaluate current-step\ncorrectness, leading to inaccurate step verification. Furthermore, we identify\npotential biases in conventional Best-of-N (BoN) evaluation strategies for\nPRMs: (1) The unreliable policy models generate responses with correct answers\nbut flawed processes, leading to a misalignment between the evaluation criteria\nof BoN and the PRM objectives of process verification. (2) The tolerance of\nPRMs of such responses leads to inflated BoN scores. (3) Existing PRMs have a\nsignificant proportion of minimum scores concentrated on the final answer\nsteps, revealing the shift from process to outcome-based assessment in BoN\nOptimized PRMs. To address these challenges, we develop a consensus filtering\nmechanism that effectively integrates MC estimation with LLM-as-a-judge and\nadvocates a more comprehensive evaluation framework that combines\nresponse-level and step-level metrics. Based on the mechanisms, we\nsignificantly improve both model performance and data efficiency in the BoN\nevaluation and the step-wise error identification task. Finally, we release a\nnew state-of-the-art PRM that outperforms existing open-source alternatives and\nprovides practical guidelines for future research in building process\nsupervision models.", "paper_summary_zh": "<paragraph>\u6d41\u7a0b\u734e\u52f5\u6a21\u578b (PRM) \u662f\u4e00\u7a2e\u6709\u524d\u9014\u7684\u65b9\u6cd5\uff0c\u7528\u65bc\u5927\u578b\u8a9e\u8a00\u6a21\u578b (LLM) \u7684\u6578\u5b78\u63a8\u7406\u4e2d\u7684\u6d41\u7a0b\u76e3\u7763\uff0c\u65e8\u5728\u8b58\u5225\u548c\u6e1b\u8f15\u63a8\u7406\u904e\u7a0b\u4e2d\u767c\u751f\u7684\u4e2d\u9593\u932f\u8aa4\u3002\u7136\u800c\uff0c\u6709\u6548 PRM \u7684\u958b\u767c\u9762\u81e8\u8457\u91cd\u5927\u7684\u6311\u6230\uff0c\u7279\u5225\u662f\u5728\u6578\u64da\u6a19\u8a3b\u548c\u8a55\u4f30\u65b9\u6cd5\u65b9\u9762\u3002\u5728\u672c\u6587\u4e2d\uff0c\u901a\u904e\u5927\u91cf\u7684\u5be6\u9a57\uff0c\u6211\u5011\u8b49\u660e\u4e86\u5e38\u7528\u7684\u57fa\u65bc\u8499\u7279\u5361\u7f85 (MC) \u4f30\u8a08\u7684 PRM \u6578\u64da\u5408\u6210\u901a\u5e38\u6703\u7522\u751f\u8f03\u5dee\u7684\u6027\u80fd\u548c\u6cdb\u5316\u6027\uff0c\u800c LLM \u4f5c\u70ba\u8a55\u5be9\u548c\u4eba\u5de5\u6a19\u8a3b\u65b9\u6cd5\u5247\u4e0d\u7136\u3002MC \u4f30\u8a08\u4f9d\u8cf4\u65bc\u5b8c\u6210\u529f\u80fd\u6a21\u578b\u4f86\u8a55\u4f30\u7576\u524d\u6b65\u9a5f\u7684\u6b63\u78ba\u6027\uff0c\u5f9e\u800c\u5c0e\u81f4\u4e0d\u6e96\u78ba\u7684\u6b65\u9a5f\u9a57\u8b49\u3002\u6b64\u5916\uff0c\u6211\u5011\u5728\u50b3\u7d71\u7684 N \u4e2d\u6700\u4f73 (BoN) PRM \u8a55\u4f30\u7b56\u7565\u4e2d\u767c\u73fe\u4e86\u6f5b\u5728\u504f\u5dee\uff1a(1) \u4e0d\u53ef\u9760\u7684\u7b56\u7565\u6a21\u578b\u6703\u7522\u751f\u5177\u6709\u6b63\u78ba\u7b54\u6848\u4f46\u6d41\u7a0b\u6709\u7f3a\u9677\u7684\u56de\u61c9\uff0c\u5f9e\u800c\u5c0e\u81f4 BoN \u7684\u8a55\u4f30\u6a19\u6e96\u8207 PRM \u7684\u6d41\u7a0b\u9a57\u8b49\u76ee\u6a19\u4e4b\u9593\u51fa\u73fe\u504f\u5dee\u3002(2) PRM \u5c0d\u6b64\u985e\u56de\u61c9\u7684\u5bb9\u5fcd\u5ea6\u5c0e\u81f4 BoN \u5206\u6578\u88ab\u8a87\u5927\u3002(3) \u73fe\u6709\u7684 PRM \u5728\u6700\u5f8c\u7684\u7b54\u6848\u6b65\u9a5f\u4e2d\u5177\u6709\u76f8\u7576\u6bd4\u4f8b\u7684\u6700\u4f4e\u5206\u6578\uff0c\u9019\u63ed\u793a\u4e86 BoN \u512a\u5316\u7684 PRM \u5f9e\u6d41\u7a0b\u8a55\u4f30\u5411\u57fa\u65bc\u7d50\u679c\u7684\u8a55\u4f30\u7684\u8f49\u8b8a\u3002\u70ba\u4e86\u61c9\u5c0d\u9019\u4e9b\u6311\u6230\uff0c\u6211\u5011\u958b\u767c\u4e86\u4e00\u7a2e\u5171\u8b58\u904e\u6ffe\u6a5f\u5236\uff0c\u8a72\u6a5f\u5236\u6709\u6548\u5730\u5c07 MC \u4f30\u8a08\u8207 LLM \u4f5c\u70ba\u8a55\u5be9\u76f8\u7d50\u5408\uff0c\u4e26\u5021\u5c0e\u4e00\u500b\u66f4\u5168\u9762\u7684\u8a55\u4f30\u6846\u67b6\uff0c\u8a72\u6846\u67b6\u7d50\u5408\u4e86\u97ff\u61c9\u7d1a\u5225\u548c\u6b65\u9a5f\u7d1a\u5225\u7684\u6307\u6a19\u3002\u57fa\u65bc\u9019\u4e9b\u6a5f\u5236\uff0c\u6211\u5011\u986f\u8457\u63d0\u9ad8\u4e86 BoN \u8a55\u4f30\u548c\u9010\u6b65\u932f\u8aa4\u8b58\u5225\u4efb\u52d9\u4e2d\u7684\u6a21\u578b\u6027\u80fd\u548c\u6578\u64da\u6548\u7387\u3002\u6700\u5f8c\uff0c\u6211\u5011\u767c\u5e03\u4e86\u4e00\u500b\u65b0\u7684\u6700\u5148\u9032\u7684 PRM\uff0c\u5176\u6027\u80fd\u512a\u65bc\u73fe\u6709\u7684\u958b\u6e90\u66ff\u4ee3\u65b9\u6848\uff0c\u4e26\u70ba\u69cb\u5efa\u6d41\u7a0b\u76e3\u7763\u6a21\u578b\u7684\u672a\u4f86\u7814\u7a76\u63d0\u4f9b\u4e86\u5be6\u7528\u7684\u6307\u5c0e\u3002</paragraph>", "author": "Zhenru Zhang et.al.", "authors": "Zhenru Zhang, Chujie Zheng, Yangzhen Wu, Beichen Zhang, Runji Lin, Bowen Yu, Dayiheng Liu, Jingren Zhou, Junyang Lin", "id": "2501.07301v1", "paper_url": "http://arxiv.org/abs/2501.07301v1", "repo": "null"}}