{"2408.07930": {"publish_time": "2024-08-15", "title": "MAG-SQL: Multi-Agent Generative Approach with Soft Schema Linking and Iterative Sub-SQL Refinement for Text-to-SQL", "paper_summary": "Recent In-Context Learning based methods have achieved remarkable success in\nText-to-SQL task. However, there is still a large gap between the performance\nof these models and human performance on datasets with complex database schema\nand difficult questions, such as BIRD. Besides, existing work has neglected to\nsupervise intermediate steps when solving questions iteratively with question\ndecomposition methods, and the schema linking methods used in these works are\nvery rudimentary. To address these issues, we propose MAG-SQL, a multi-agent\ngenerative approach with soft schema linking and iterative Sub-SQL refinement.\nIn our framework, an entity-based method with tables' summary is used to select\nthe columns in database, and a novel targets-conditions decomposition method is\nintroduced to decompose those complex questions. Additionally, we build a\niterative generating module which includes a Sub-SQL Generator and Sub-SQL\nRefiner, introducing external oversight for each step of generation. Through a\nseries of ablation studies, the effectiveness of each agent in our framework\nhas been demonstrated. When evaluated on the BIRD benchmark with GPT-4, MAG-SQL\nachieves an execution accuracy of 61.08%, compared to the baseline accuracy of\n46.35% for vanilla GPT-4 and the baseline accuracy of 57.56% for MAC-SQL.\nBesides, our approach makes similar progress on Spider.", "paper_summary_zh": "\u6700\u8fd1\u57fa\u4e8e\u60c5\u5883\u5b66\u4e60\u7684\u65b9\u6cd5\u5728\u6587\u672c\u5230 SQL \u4efb\u52a1\u4e2d\u53d6\u5f97\u4e86\u663e\u8457\u7684\u6210\u529f\u3002\u7136\u800c\uff0c\u5728\u5177\u6709\u590d\u6742\u6570\u636e\u5e93\u67b6\u6784\u548c\u56f0\u96be\u95ee\u9898\uff08\u4f8b\u5982 BIRD\uff09\u7684\u6570\u636e\u96c6\u4e0a\uff0c\u8fd9\u4e9b\u6a21\u578b\u7684\u6027\u80fd\u4e0e\u4eba\u7c7b\u7684\u6027\u80fd\u4e4b\u95f4\u4ecd\u7136\u5b58\u5728\u5f88\u5927\u5dee\u8ddd\u3002\u6b64\u5916\uff0c\u73b0\u6709\u5de5\u4f5c\u5728\u4f7f\u7528\u95ee\u9898\u5206\u89e3\u65b9\u6cd5\u8fed\u4ee3\u89e3\u51b3\u95ee\u9898\u65f6\u5ffd\u89c6\u4e86\u5bf9\u4e2d\u95f4\u6b65\u9aa4\u7684\u76d1\u7763\uff0c\u5e76\u4e14\u8fd9\u4e9b\u5de5\u4f5c\u4e2d\u4f7f\u7528\u7684\u6a21\u5f0f\u94fe\u63a5\u65b9\u6cd5\u975e\u5e38\u57fa\u7840\u3002\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e9b\u95ee\u9898\uff0c\u6211\u4eec\u63d0\u51fa\u4e86 MAG-SQL\uff0c\u8fd9\u662f\u4e00\u79cd\u5177\u6709\u8f6f\u6a21\u5f0f\u94fe\u63a5\u548c\u8fed\u4ee3\u5b50 SQL \u7cbe\u70bc\u7684\u591a\u4ee3\u7406\u751f\u6210\u65b9\u6cd5\u3002\u5728\u6211\u4eec\u7684\u6846\u67b6\u4e2d\uff0c\u4f7f\u7528\u5e26\u6709\u8868\u6458\u8981\u7684\u57fa\u4e8e\u5b9e\u4f53\u7684\u65b9\u6cd5\u6765\u9009\u62e9\u6570\u636e\u5e93\u4e2d\u7684\u5217\uff0c\u5e76\u5f15\u5165\u4e86\u4e00\u79cd\u65b0\u9896\u7684\u76ee\u6807\u6761\u4ef6\u5206\u89e3\u65b9\u6cd5\u6765\u5206\u89e3\u90a3\u4e9b\u590d\u6742\u7684\u95ee\u9898\u3002\u6b64\u5916\uff0c\u6211\u4eec\u6784\u5efa\u4e86\u4e00\u4e2a\u8fed\u4ee3\u751f\u6210\u6a21\u5757\uff0c\u5176\u4e2d\u5305\u62ec\u4e00\u4e2a\u5b50 SQL \u751f\u6210\u5668\u548c\u5b50 SQL \u7cbe\u70bc\u5668\uff0c\u4e3a\u751f\u6210\u7684\u6bcf\u4e2a\u6b65\u9aa4\u5f15\u5165\u4e86\u5916\u90e8\u76d1\u7763\u3002\u901a\u8fc7\u4e00\u7cfb\u5217\u6d88\u878d\u7814\u7a76\uff0c\u8bc1\u660e\u4e86\u6211\u4eec\u6846\u67b6\u4e2d\u6bcf\u4e2a\u4ee3\u7406\u7684\u6709\u6548\u6027\u3002\u5728\u4f7f\u7528 GPT-4 \u5bf9 BIRD \u57fa\u51c6\u8fdb\u884c\u8bc4\u4f30\u65f6\uff0cMAG-SQL \u7684\u6267\u884c\u51c6\u786e\u7387\u8fbe\u5230 61.08%\uff0c\u800c\u9999\u8349 GPT-4 \u7684\u57fa\u7ebf\u51c6\u786e\u7387\u4e3a 46.35%\uff0cMAC-SQL \u7684\u57fa\u7ebf\u51c6\u786e\u7387\u4e3a 57.56%\u3002\u6b64\u5916\uff0c\u6211\u4eec\u7684\u65b9\u6cd5\u5728 Spider \u4e0a\u53d6\u5f97\u4e86\u7c7b\u4f3c\u7684\u8fdb\u5c55\u3002", "author": "Wenxuan Xie et.al.", "authors": "Wenxuan Xie, Gaochen Wu, Bowen Zhou", "id": "2408.07930v2", "paper_url": "http://arxiv.org/abs/2408.07930v2", "repo": "null"}}