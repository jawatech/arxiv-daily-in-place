{"2503.07826": {"publish_time": "2025-03-10", "title": "Magnet: Multi-turn Tool-use Data Synthesis and Distillation via Graph Translation", "paper_summary": "Large language models (LLMs) have exhibited the ability to effectively\nutilize external tools to address user queries. However, their performance may\nbe limited in complex, multi-turn interactions involving users and multiple\ntools. To address this, we propose Magnet, a principled framework for\nsynthesizing high-quality training trajectories to enhance the function calling\ncapability of large language model agents in multi-turn conversations with\nhumans. The framework is based on automatic and iterative translations from a\nfunction signature path to a sequence of queries and executable function calls.\nWe model the complicated function interactions in multi-turn cases with graph\nand design novel node operations to build reliable signature paths. Motivated\nby context distillation, when guiding the generation of positive and negative\ntrajectories using a teacher model, we provide reference function call\nsequences as positive hints in context and contrastive, incorrect function\ncalls as negative hints. Experiments show that training with the positive\ntrajectories with supervised fine-tuning and preference optimization against\nnegative trajectories, our 14B model, Magnet-14B-mDPO, obtains 68.01 on BFCL-v3\nand 73.30 on ToolQuery, surpassing the performance of the teacher model\nGemini-1.5-pro-002 by a large margin in function calling.", "paper_summary_zh": "<paragraph>\u5927\u578b\u8a9e\u8a00\u6a21\u578b (LLM) \u5df2\u5c55\u73fe\u51fa\u6709\u6548\u5229\u7528\u5916\u90e8\u5de5\u5177\u4f86\u8655\u7406\u4f7f\u7528\u8005\u67e5\u8a62\u7684\u80fd\u529b\u3002\u7136\u800c\uff0c\u5b83\u5011\u5728\u6d89\u53ca\u4f7f\u7528\u8005\u548c\u591a\u500b\u5de5\u5177\u7684\u8907\u96dc\u3001\u591a\u8f2a\u4e92\u52d5\u4e2d\u7684\u6548\u80fd\u53ef\u80fd\u53d7\u5230\u9650\u5236\u3002\u70ba\u4e86\u61c9\u5c0d\u6b64\u554f\u984c\uff0c\u6211\u5011\u63d0\u51fa\u4e86 Magnet\uff0c\u9019\u662f\u4e00\u500b\u6709\u539f\u5247\u7684\u6846\u67b6\uff0c\u7528\u65bc\u5408\u6210\u9ad8\u8cea\u91cf\u7684\u8a13\u7df4\u8ecc\u8de1\uff0c\u4ee5\u589e\u5f37\u5927\u578b\u8a9e\u8a00\u6a21\u578b\u4ee3\u7406\u5728\u8207\u4eba\u985e\u9032\u884c\u591a\u8f2a\u5c0d\u8a71\u4e2d\u7684\u51fd\u6578\u547c\u53eb\u80fd\u529b\u3002\u8a72\u6846\u67b6\u57fa\u65bc\u5f9e\u51fd\u6578\u7c3d\u7ae0\u8def\u5f91\u5230\u67e5\u8a62\u5e8f\u5217\u548c\u53ef\u57f7\u884c\u51fd\u6578\u547c\u53eb\u7684\u81ea\u52d5\u8fed\u4ee3\u8f49\u63db\u3002\u6211\u5011\u4f7f\u7528\u5716\u5f62\u5c0d\u591a\u8f2a\u60c5\u6cc1\u4e0b\u8907\u96dc\u7684\u51fd\u6578\u4ea4\u4e92\u9032\u884c\u5efa\u6a21\uff0c\u4e26\u8a2d\u8a08\u4e86\u65b0\u7a4e\u7684\u7bc0\u9ede\u64cd\u4f5c\u4f86\u69cb\u5efa\u53ef\u9760\u7684\u7c3d\u7ae0\u8def\u5f91\u3002\u53d7\u4e0a\u4e0b\u6587\u84b8\u993e\u7684\u555f\u767c\uff0c\u5728\u4f7f\u7528\u6559\u5e2b\u6a21\u578b\u6307\u5c0e\u6b63\u8ca0\u8ecc\u8de1\u7684\u751f\u6210\u6642\uff0c\u6211\u5011\u5728\u4e0a\u4e0b\u6587\u4e2d\u63d0\u4f9b\u53c3\u8003\u51fd\u6578\u547c\u53eb\u5e8f\u5217\u4f5c\u70ba\u6b63\u5411\u63d0\u793a\uff0c\u4e26\u63d0\u4f9b\u5c0d\u6bd4\u7684\u3001\u4e0d\u6b63\u78ba\u7684\u51fd\u6578\u547c\u53eb\u4f5c\u70ba\u8ca0\u5411\u63d0\u793a\u3002\u5be6\u9a57\u8868\u660e\uff0c\u901a\u904e\u4f7f\u7528\u6b63\u5411\u8ecc\u8de1\u9032\u884c\u76e3\u7763\u5f0f\u5fae\u8abf\u548c\u91dd\u5c0d\u8ca0\u5411\u8ecc\u8de1\u9032\u884c\u504f\u597d\u512a\u5316\uff0c\u6211\u5011\u7684 14B \u6a21\u578b Magnet-14B-mDPO \u5728 BFCL-v3 \u4e0a\u7372\u5f97\u4e86 68.01 \u5206\uff0c\u5728 ToolQuery \u4e0a\u7372\u5f97\u4e86 73.30 \u5206\uff0c\u5728\u51fd\u6578\u547c\u53eb\u65b9\u9762\u5927\u5e45\u8d85\u8d8a\u4e86\u6559\u5e2b\u6a21\u578b Gemini-1.5-pro-002 \u7684\u6548\u80fd\u3002</paragraph>\n", "author": "Fan Yin et.al.", "authors": "Fan Yin, Zifeng Wang, I-Hung Hsu, Jun Yan, Ke Jiang, Yanfei Chen, Jindong Gu, Long T. Le, Kai-Wei Chang, Chen-Yu Lee, Hamid Palangi, Tomas Pfister", "id": "2503.07826v1", "paper_url": "http://arxiv.org/abs/2503.07826v1", "repo": "null"}}