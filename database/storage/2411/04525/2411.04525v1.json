{"2411.04525": {"publish_time": "2024-11-07", "title": "GenJoin: Conditional Generative Plan-to-Plan Query Optimizer that Learns from Subplan Hints", "paper_summary": "Query optimization has become a research area where classical algorithms are\nbeing challenged by machine learning algorithms. At the same time, recent\ntrends in learned query optimizers have shown that it is prudent to take\nadvantage of decades of database research and augment classical query\noptimizers by shrinking the plan search space through different types of hints\n(e.g. by specifying the join type, scan type or the order of joins) rather than\ncompletely replacing the classical query optimizer with machine learning\nmodels. It is especially relevant for cases when classical optimizers cannot\nfully enumerate all logical and physical plans and, as an alternative, need to\nrely on less robust approaches like genetic algorithms. However, even\nsymbiotically learned query optimizers are hampered by the need for vast\namounts of training data, slow plan generation during inference and unstable\nresults across various workload conditions. In this paper, we present GenJoin -\na novel learned query optimizer that considers the query optimization problem\nas a generative task and is capable of learning from a random set of subplan\nhints to produce query plans that outperform the classical optimizer. GenJoin\nis the first learned query optimizer that significantly and consistently\noutperforms PostgreSQL as well as state-of-the-art methods on two well-known\nreal-world benchmarks across a variety of workloads using rigorous machine\nlearning evaluations.", "paper_summary_zh": "\u67e5\u8a62\u6700\u4f73\u5316\u5df2\u6210\u70ba\u4e00\u500b\u7814\u7a76\u9818\u57df\uff0c\u5176\u4e2d\u53e4\u5178\u6f14\u7b97\u6cd5\u53d7\u5230\u6a5f\u5668\u5b78\u7fd2\u6f14\u7b97\u6cd5\u7684\u6311\u6230\u3002\u540c\u6642\uff0c\u5df2\u5b78\u7fd2\u67e5\u8a62\u6700\u4f73\u5316\u5668\u7684\u8fd1\u671f\u8da8\u52e2\u986f\u793a\uff0c\u5be9\u614e\u5229\u7528\u6578\u5341\u5e74\u7684\u8cc7\u6599\u5eab\u7814\u7a76\u548c\u900f\u904e\u4e0d\u540c\u985e\u578b\u7684\u63d0\u793a\uff08\u4f8b\u5982\uff0c\u900f\u904e\u6307\u5b9a\u9023\u63a5\u985e\u578b\u3001\u6383\u63cf\u985e\u578b\u6216\u9023\u63a5\u9806\u5e8f\uff09\u4f86\u7e2e\u5c0f\u8a08\u756b\u641c\u5c0b\u7a7a\u9593\uff0c\u800c\u975e\u5b8c\u5168\u4ee5\u6a5f\u5668\u5b78\u7fd2\u6a21\u578b\u53d6\u4ee3\u53e4\u5178\u67e5\u8a62\u6700\u4f73\u5316\u5668\uff0c\u662f\u660e\u667a\u4e4b\u8209\u3002\u9019\u5c0d\u53e4\u5178\u6700\u4f73\u5316\u5668\u7121\u6cd5\u5b8c\u5168\u5217\u8209\u6240\u6709\u908f\u8f2f\u548c\u5be6\u9ad4\u8a08\u756b\uff0c\u4e14\u9700\u8981\u4f9d\u8cf4\u907a\u50b3\u6f14\u7b97\u6cd5\u7b49\u8f03\u4e0d\u7a69\u5065\u7684\u65b9\u6cd5\u4f5c\u70ba\u66ff\u4ee3\u65b9\u6848\u7684\u60c5\u6cc1\u5c24\u5176\u76f8\u95dc\u3002\u7136\u800c\uff0c\u5373\u4f7f\u662f\u5171\u751f\u5b78\u7fd2\u7684\u67e5\u8a62\u6700\u4f73\u5316\u5668\u4e5f\u53d7\u5230\u5927\u91cf\u8a13\u7df4\u8cc7\u6599\u9700\u6c42\u3001\u63a8\u8ad6\u671f\u9593\u7684\u8a08\u756b\u7522\u751f\u7de9\u6162\u4ee5\u53ca\u5728\u5404\u7a2e\u5de5\u4f5c\u8ca0\u8f09\u689d\u4ef6\u4e0b\u7d50\u679c\u4e0d\u7a69\u5b9a\u7684\u963b\u7919\u3002\u5728\u672c\u6587\u4e2d\uff0c\u6211\u5011\u63d0\u51fa GenJoin\uff0c\u9019\u662f\u4e00\u500b\u65b0\u7a4e\u7684\u5df2\u5b78\u7fd2\u67e5\u8a62\u6700\u4f73\u5316\u5668\uff0c\u5b83\u5c07\u67e5\u8a62\u6700\u4f73\u5316\u554f\u984c\u8996\u70ba\u751f\u6210\u4efb\u52d9\uff0c\u4e26\u80fd\u5920\u5f9e\u4e00\u7d44\u96a8\u6a5f\u5b50\u8a08\u756b\u63d0\u793a\u4e2d\u5b78\u7fd2\uff0c\u4ee5\u7522\u751f\u512a\u65bc\u53e4\u5178\u6700\u4f73\u5316\u5668\u7684\u67e5\u8a62\u8a08\u756b\u3002GenJoin \u662f\u7b2c\u4e00\u500b\u5df2\u5b78\u7fd2\u67e5\u8a62\u6700\u4f73\u5316\u5668\uff0c\u5b83\u986f\u8457\u4e14\u6301\u7e8c\u512a\u65bc PostgreSQL\uff0c\u4ee5\u53ca\u5728\u4f7f\u7528\u56b4\u8b39\u6a5f\u5668\u5b78\u7fd2\u8a55\u4f30\u7684\u5404\u7a2e\u5de5\u4f5c\u8ca0\u8f09\u4e2d\uff0c\u65bc\u5169\u500b\u8457\u540d\u7684\u771f\u5be6\u4e16\u754c\u57fa\u6e96\u6e2c\u8a66\u4e0a\u7684\u6700\u65b0\u65b9\u6cd5\u3002", "author": "Pavel Sulimov et.al.", "authors": "Pavel Sulimov, Claude Lehmann, Kurt Stockinger", "id": "2411.04525v1", "paper_url": "http://arxiv.org/abs/2411.04525v1", "repo": "null"}}