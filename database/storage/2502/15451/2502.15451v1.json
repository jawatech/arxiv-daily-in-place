{"2502.15451": {"publish_time": "2025-02-21", "title": "A fast convergence algorithm based on binary integer programming for expert load balancing in MoE LLMs", "paper_summary": "MoE (Mixture-of-Expert) architectures appear frequently in large language\nmodels, and the number of experts can be over one hundred recently. However,\nthe expert load imbalance problem always happens in MoE model pre-training,\nwhich will cause routing collapse or increased computational overhead. In order\nto balance loads on experts, we propose BIP-Based Balancing, an expert load\nbalancing algorithm based on binary integer programming (BIP). The algorithm\nmaintains an additional vector q that can help change the top-K order of s by\nsolving a binary integer programming with very small time costs. In simulation\nexperiments, we observe that BIP-Based Balancing make imbalance disappoint very\nfast, while the final sum of routine scores decreases very little. Our\nalgorithm achieves nearly perfect trade-off between expert load balance and\npre-training efficiency under the simulation view.", "paper_summary_zh": "MoE\uff08\u6df7\u5408\u4e13\u5bb6\uff09\u67b6\u69cb\u7d93\u5e38\u51fa\u73fe\u5728\u5927\u578b\u8a9e\u8a00\u6a21\u578b\u4e2d\uff0c\u800c\u6700\u8fd1\u5c08\u5bb6\u7684\u6578\u91cf\u53ef\u80fd\u8d85\u904e\u4e00\u767e\u500b\u3002\u7136\u800c\uff0c\u5c08\u5bb6\u8ca0\u8f09\u4e0d\u5e73\u8861\u7684\u554f\u984c\u7e3d\u6703\u767c\u751f\u5728 MoE \u6a21\u578b\u9810\u8a13\u7df4\u4e2d\uff0c\u9019\u5c07\u5c0e\u81f4\u8def\u7531\u5d29\u6f70\u6216\u589e\u52a0\u904b\u7b97\u958b\u92b7\u3002\u70ba\u4e86\u5e73\u8861\u5c08\u5bb6\u7684\u8ca0\u8f09\uff0c\u6211\u5011\u63d0\u51fa\u4e86\u57fa\u65bc BIP \u7684\u5e73\u8861\uff0c\u4e00\u7a2e\u57fa\u65bc\u4e8c\u9032\u5236\u6574\u6578\u898f\u5283 (BIP) \u7684\u5c08\u5bb6\u8ca0\u8f09\u5e73\u8861\u6f14\u7b97\u6cd5\u3002\u8a72\u6f14\u7b97\u6cd5\u7dad\u8b77\u4e00\u500b\u984d\u5916\u7684\u5411\u91cf q\uff0c\u5b83\u53ef\u4ee5\u900f\u904e\u4ee5\u975e\u5e38\u5c0f\u7684\u6642\u9593\u6210\u672c\u89e3\u6c7a\u4e8c\u9032\u5236\u6574\u6578\u898f\u5283\u4f86\u5e6b\u52a9\u6539\u8b8a s \u7684\u524d K \u9806\u5e8f\u3002\u5728\u6a21\u64ec\u5be6\u9a57\u4e2d\uff0c\u6211\u5011\u89c0\u5bdf\u5230\u57fa\u65bc BIP \u7684\u5e73\u8861\u8b93\u4e0d\u5e73\u8861\u5f88\u5feb\u5730\u4ee4\u4eba\u5931\u671b\uff0c\u800c\u4f8b\u7a0b\u5206\u6578\u7684\u6700\u7d42\u7e3d\u548c\u5247\u6e1b\u5c11\u5f97\u5f88\u5c11\u3002\u6211\u5011\u7684\u6f14\u7b97\u6cd5\u5728\u6a21\u64ec\u8996\u5716\u4e0b\u5be6\u73fe\u4e86\u5c08\u5bb6\u8ca0\u8f09\u5e73\u8861\u548c\u9810\u8a13\u7df4\u6548\u7387\u4e4b\u9593\u8fd1\u4e4e\u5b8c\u7f8e\u7684\u6b0a\u8861\u3002", "author": "Yuan Sun et.al.", "authors": "Yuan Sun", "id": "2502.15451v1", "paper_url": "http://arxiv.org/abs/2502.15451v1", "repo": "null"}}