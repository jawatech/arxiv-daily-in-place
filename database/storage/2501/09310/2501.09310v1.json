{"2501.09310": {"publish_time": "2025-01-16", "title": "A Study of In-Context-Learning-Based Text-to-SQL Errors", "paper_summary": "Large language models (LLMs) have been adopted to perform text-to-SQL tasks,\nutilizing their in-context learning (ICL) capability to translate natural\nlanguage questions into structured query language (SQL). However, such a\ntechnique faces correctness problems and requires efficient repairing\nsolutions. In this paper, we conduct the first comprehensive study of\ntext-to-SQL errors. Our study covers four representative ICL-based techniques,\nfive basic repairing methods, two benchmarks, and two LLM settings. We find\nthat text-to-SQL errors are widespread and summarize 29 error types of 7\ncategories. We also find that existing repairing attempts have limited\ncorrectness improvement at the cost of high computational overhead with many\nmis-repairs. Based on the findings, we propose MapleRepair, a novel text-to-SQL\nerror detection and repairing framework. The evaluation demonstrates that\nMapleRepair outperforms existing solutions by repairing 13.8% more queries with\nneglectable mis-repairs and 67.4% less overhead.", "paper_summary_zh": "\u5927\u578b\u8a9e\u8a00\u6a21\u578b (LLM) \u5df2\u88ab\u63a1\u7528\u4f86\u57f7\u884c\u6587\u5b57\u8f49 SQL \u4efb\u52d9\uff0c\n\u5229\u7528\u5176\u60c5\u5883\u5b78\u7fd2 (ICL) \u80fd\u529b\u5c07\u81ea\u7136\u8a9e\u8a00\u554f\u984c\u8f49\u63db\u70ba\u7d50\u69cb\u5316\u67e5\u8a62\u8a9e\u8a00 (SQL)\u3002\u7136\u800c\uff0c\u9019\u7a2e\u6280\u8853\u9762\u81e8\u6b63\u78ba\u6027\u7684\u554f\u984c\uff0c\u9700\u8981\u6709\u6548\u7684\u4fee\u5fa9\u89e3\u6c7a\u65b9\u6848\u3002\u5728\u672c\u6587\u4e2d\uff0c\u6211\u5011\u9032\u884c\u4e86\u9996\u6b21\u95dc\u65bc\u6587\u5b57\u8f49 SQL \u932f\u8aa4\u7684\u5168\u9762\u7814\u7a76\u3002\u6211\u5011\u7684\u7814\u7a76\u6db5\u84cb\u56db\u7a2e\u5177\u6709\u4ee3\u8868\u6027\u7684\u57fa\u65bc ICL \u7684\u6280\u8853\u3001\u4e94\u7a2e\u57fa\u672c\u7684\u4fee\u5fa9\u65b9\u6cd5\u3001\u5169\u500b\u57fa\u6e96\u6e2c\u8a66\u548c\u5169\u500b LLM \u8a2d\u5b9a\u3002\u6211\u5011\u767c\u73fe\u6587\u5b57\u8f49 SQL \u932f\u8aa4\u5f88\u666e\u904d\uff0c\u4e26\u7e3d\u7d50\u4e86 7 \u985e\u5225\u7684 29 \u7a2e\u932f\u8aa4\u985e\u578b\u3002\u6211\u5011\u9084\u767c\u73fe\uff0c\u73fe\u6709\u7684\u4fee\u5fa9\u5617\u8a66\u4ee5\u9ad8\u904b\u7b97\u6210\u672c\u70ba\u4ee3\u50f9\uff0c\u5c0e\u81f4\u8a31\u591a\u932f\u8aa4\u4fee\u5fa9\uff0c\u5176\u6b63\u78ba\u6027\u6539\u9032\u6709\u9650\u3002\u6839\u64da\u9019\u4e9b\u767c\u73fe\uff0c\u6211\u5011\u63d0\u51fa\u4e86 MapleRepair\uff0c\u4e00\u7a2e\u65b0\u7a4e\u7684\u6587\u5b57\u8f49 SQL \u932f\u8aa4\u5075\u6e2c\u548c\u4fee\u5fa9\u67b6\u69cb\u3002\u8a55\u4f30\u7d50\u679c\u8b49\u660e\uff0cMapleRepair \u512a\u65bc\u73fe\u6709\u89e3\u6c7a\u65b9\u6848\uff0c\u4ee5\u53ef\u5ffd\u7565\u7684\u932f\u8aa4\u4fee\u5fa9\u4fee\u5fa9\u4e86\u591a 13.8% \u7684\u67e5\u8a62\uff0c\u4e26\u6e1b\u5c11\u4e86 67.4% \u7684\u958b\u92b7\u3002", "author": "Jiawei Shen et.al.", "authors": "Jiawei Shen, Chengcheng Wan, Ruoyi Qiao, Jiazhen Zou, Hang Xu, Yuchen Shao, Yueling Zhang, Weikai Miao, Geguang Pu", "id": "2501.09310v1", "paper_url": "http://arxiv.org/abs/2501.09310v1", "repo": "null"}}