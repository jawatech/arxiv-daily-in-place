{"2501.18795": {"publish_time": "2025-01-30", "title": "Rope to Nope and Back Again: A New Hybrid Attention Strategy", "paper_summary": "Long-context large language models (LLMs) have achieved remarkable\nadvancements, driven by techniques like Rotary Position Embedding (RoPE) (Su et\nal., 2023) and its extensions (Chen et al., 2023; Liu et al., 2024c; Peng et\nal., 2023). By adjusting RoPE parameters and incorporating training data with\nextended contexts, we can train performant models with considerably longer\ninput sequences. However, existing RoPE-based methods exhibit performance\nlimitations when applied to extended context lengths. This paper presents a\ncomprehensive analysis of various attention mechanisms, including RoPE, No\nPositional Embedding (NoPE), and Query-Key Normalization (QK-Norm), identifying\ntheir strengths and shortcomings in long-context modeling. Our investigation\nidentifies distinctive attention patterns in these methods and highlights their\nimpact on long-context performance, providing valuable insights for\narchitectural design. Building on these findings, we propose a novel\narchitectural based on a hybrid attention mechanism that not only surpasses\nconventional RoPE-based transformer models in long context tasks but also\nachieves competitive performance on benchmarks requiring shorter context\nlengths.", "paper_summary_zh": "\u9577\u6587\u672c\u5927\u578b\u8a9e\u8a00\u6a21\u578b (LLM) \u5df2\u53d6\u5f97\u986f\u8457\u9032\u5c55\uff0c\u9019\u6b78\u529f\u65bc\u65cb\u8f49\u4f4d\u7f6e\u5d4c\u5165 (RoPE) (Su \u7b49\u4eba\uff0c2023 \u5e74) \u53ca\u5176\u5ef6\u4f38\u6280\u8853 (Chen \u7b49\u4eba\uff0c2023 \u5e74\uff1bLiu \u7b49\u4eba\uff0c2024c\uff1bPeng \u7b49\u4eba\uff0c2023 \u5e74)\u3002\u900f\u904e\u8abf\u6574 RoPE \u53c3\u6578\u4e26\u7d50\u5408\u5177\u6709\u5ef6\u4f38\u6587\u672c\u7684\u8a13\u7df4\u8cc7\u6599\uff0c\u6211\u5011\u53ef\u4ee5\u8a13\u7df4\u51fa\u5177\u6709\u76f8\u7576\u9577\u8f38\u5165\u5e8f\u5217\u7684\u6548\u80fd\u6a21\u578b\u3002\u7136\u800c\uff0c\u73fe\u6709\u7684\u57fa\u65bc RoPE \u7684\u65b9\u6cd5\u5728\u61c9\u7528\u65bc\u5ef6\u4f38\u6587\u672c\u9577\u5ea6\u6642\u6703\u51fa\u73fe\u6548\u80fd\u9650\u5236\u3002\u672c\u6587\u91dd\u5c0d\u5404\u7a2e\u6ce8\u610f\u529b\u6a5f\u5236\u9032\u884c\u5168\u9762\u5206\u6790\uff0c\u5305\u62ec RoPE\u3001\u7121\u4f4d\u7f6e\u5d4c\u5165 (NoPE) \u548c\u67e5\u8a62\u9375\u6b63\u898f\u5316 (QK-Norm)\uff0c\u627e\u51fa\u5b83\u5011\u5728\u9577\u6587\u672c\u5efa\u6a21\u4e2d\u7684\u512a\u9ede\u548c\u7f3a\u9ede\u3002\u6211\u5011\u7684\u8abf\u67e5\u627e\u51fa\u9019\u4e9b\u65b9\u6cd5\u4e2d\u7368\u7279\u7684\u6ce8\u610f\u529b\u6a21\u5f0f\uff0c\u4e26\u5f37\u8abf\u5b83\u5011\u5c0d\u9577\u6587\u672c\u6548\u80fd\u7684\u5f71\u97ff\uff0c\u70ba\u67b6\u69cb\u8a2d\u8a08\u63d0\u4f9b\u5bf6\u8cb4\u7684\u898b\u89e3\u3002\u6839\u64da\u9019\u4e9b\u767c\u73fe\uff0c\u6211\u5011\u63d0\u51fa\u4e00\u500b\u65b0\u7a4e\u7684\u67b6\u69cb\uff0c\u57fa\u65bc\u4e00\u7a2e\u6df7\u5408\u6ce8\u610f\u529b\u6a5f\u5236\uff0c\u5b83\u4e0d\u50c5\u5728\u9577\u6587\u672c\u4efb\u52d9\u4e2d\u8d85\u8d8a\u50b3\u7d71\u7684\u57fa\u65bc RoPE \u7684 Transformer \u6a21\u578b\uff0c\u800c\u4e14\u5728\u9700\u8981\u8f03\u77ed\u6587\u672c\u9577\u5ea6\u7684\u57fa\u6e96\u6e2c\u8a66\u4e2d\u4e5f\u53d6\u5f97\u7af6\u722d\u529b\u7684\u6548\u80fd\u3002", "author": "Bowen Yang et.al.", "authors": "Bowen Yang, Bharat Venkitesh, Dwarak Talupuru, Hangyu Lin, David Cairuz, Phil Blunsom, Acyr Locatelli", "id": "2501.18795v1", "paper_url": "http://arxiv.org/abs/2501.18795v1", "repo": "null"}}