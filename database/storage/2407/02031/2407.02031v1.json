{"2407.02031": {"publish_time": "2024-07-02", "title": "SwiftDiffusion: Efficient Diffusion Model Serving with Add-on Modules", "paper_summary": "This paper documents our characterization study and practices for serving\ntext-to-image requests with stable diffusion models in production. We first\ncomprehensively analyze inference request traces for commercial text-to-image\napplications. It commences with our observation that add-on modules, i.e.,\nControlNets and LoRAs, that augment the base stable diffusion models, are\nubiquitous in generating images for commercial applications. Despite their\nefficacy, these add-on modules incur high loading overhead, prolong the serving\nlatency, and swallow up expensive GPU resources. Driven by our characterization\nstudy, we present SwiftDiffusion, a system that efficiently generates\nhigh-quality images using stable diffusion models and add-on modules. To\nachieve this, SwiftDiffusion reconstructs the existing text-to-image serving\nworkflow by identifying the opportunities for parallel computation and\ndistributing ControlNet computations across multiple GPUs. Further,\nSwiftDiffusion thoroughly analyzes the dynamics of image generation and\ndevelops techniques to eliminate the overhead associated with LoRA loading and\npatching while preserving the image quality. Last, SwiftDiffusion proposes\nspecialized optimizations in the backbone architecture of the stable diffusion\nmodels, which are also compatible with the efficient serving of add-on modules.\nCompared to state-of-the-art text-to-image serving systems, SwiftDiffusion\nreduces serving latency by up to 5x and improves serving throughput by up to 2x\nwithout compromising image quality.", "paper_summary_zh": "\u672c\u6587\u6863\u8bb0\u5f55\u4e86\u6211\u4eec\u7684\u8868\u5f81\u7814\u7a76\u548c\u5b9e\u8df5\uff0c\u7528\u4e8e\u5728\u751f\u4ea7\u4e2d\u4f7f\u7528\u7a33\u5b9a\u6269\u6563\u6a21\u578b\u63d0\u4f9b\u6587\u672c\u5230\u56fe\u50cf\u8bf7\u6c42\u3002\u6211\u4eec\u9996\u5148\u5168\u9762\u5206\u6790\u4e86\u5546\u4e1a\u6587\u672c\u5230\u56fe\u50cf\u5e94\u7528\u7a0b\u5e8f\u7684\u63a8\u7406\u8bf7\u6c42\u8ddf\u8e2a\u3002\u5b83\u4ece\u6211\u4eec\u7684\u89c2\u5bdf\u5f00\u59cb\uff0c\u5373\u9644\u52a0\u6a21\u5757\uff08\u5373 ControlNets \u548c LoRAs\uff09\u589e\u5f3a\u4e86\u57fa\u672c\u7684\u7a33\u5b9a\u6269\u6563\u6a21\u578b\uff0c\u5728\u4e3a\u5546\u4e1a\u5e94\u7528\u7a0b\u5e8f\u751f\u6210\u56fe\u50cf\u65f6\u65e0\u5904\u4e0d\u5728\u3002\u5c3d\u7ba1\u5b83\u4eec\u6709\u6548\uff0c\u4f46\u8fd9\u4e9b\u9644\u52a0\u6a21\u5757\u4f1a\u4ea7\u751f\u9ad8\u52a0\u8f7d\u5f00\u9500\uff0c\u5ef6\u957f\u670d\u52a1\u5ef6\u8fdf\uff0c\u5e76\u541e\u566c\u6602\u8d35\u7684 GPU \u8d44\u6e90\u3002\u5728\u6211\u4eec\u7684\u8868\u5f81\u7814\u7a76\u7684\u63a8\u52a8\u4e0b\uff0c\u6211\u4eec\u63d0\u51fa\u4e86 SwiftDiffusion\uff0c\u8fd9\u662f\u4e00\u4e2a\u4f7f\u7528\u7a33\u5b9a\u6269\u6563\u6a21\u578b\u548c\u9644\u52a0\u6a21\u5757\u9ad8\u6548\u751f\u6210\u9ad8\u8d28\u91cf\u56fe\u50cf\u7684\u7cfb\u7edf\u3002\u4e3a\u6b64\uff0cSwiftDiffusion \u901a\u8fc7\u8bc6\u522b\u5e76\u884c\u8ba1\u7b97\u7684\u673a\u4f1a\u548c\u5728\u591a\u4e2a GPU \u4e0a\u5206\u5e03 ControlNet \u8ba1\u7b97\uff0c\u91cd\u5efa\u4e86\u73b0\u6709\u7684\u6587\u672c\u5230\u56fe\u50cf\u670d\u52a1\u5de5\u4f5c\u6d41\u3002\u6b64\u5916\uff0cSwiftDiffusion \u5f7b\u5e95\u5206\u6790\u4e86\u56fe\u50cf\u751f\u6210\u7684\u52a8\u6001\uff0c\u5e76\u5f00\u53d1\u4e86\u6d88\u9664\u4e0e LoRA \u52a0\u8f7d\u548c\u4fee\u8865\u76f8\u5173\u5f00\u9500\u7684\u6280\u672f\uff0c\u540c\u65f6\u4fdd\u7559\u4e86\u56fe\u50cf\u8d28\u91cf\u3002\u6700\u540e\uff0cSwiftDiffusion \u5728\u7a33\u5b9a\u6269\u6563\u6a21\u578b\u7684\u4e3b\u5e72\u67b6\u6784\u4e2d\u63d0\u51fa\u4e86\u4e13\u95e8\u7684\u4f18\u5316\uff0c\u8fd9\u4e9b\u4f18\u5316\u4e5f\u4e0e\u9644\u52a0\u6a21\u5757\u7684\u9ad8\u6548\u670d\u52a1\u517c\u5bb9\u3002\u4e0e\u6700\u5148\u8fdb\u7684\u6587\u672c\u5230\u56fe\u50cf\u670d\u52a1\u7cfb\u7edf\u76f8\u6bd4\uff0cSwiftDiffusion \u5c06\u670d\u52a1\u5ef6\u8fdf\u964d\u4f4e\u4e86 5 \u500d\uff0c\u5e76\u5c06\u670d\u52a1\u541e\u5410\u91cf\u63d0\u9ad8\u4e86 2 \u500d\uff0c\u540c\u65f6\u4e0d\u5f71\u54cd\u56fe\u50cf\u8d28\u91cf\u3002", "author": "Suyi Li et.al.", "authors": "Suyi Li, Lingyun Yang, Xiaoxiao Jiang, Hanfeng Lu, Zhipeng Di, Weiyi Lu, Jiawei Chen, Kan Liu, Yinghao Yu, Tao Lan, Guodong Yang, Lin Qu, Liping Zhang, Wei Wang", "id": "2407.02031v1", "paper_url": "http://arxiv.org/abs/2407.02031v1", "repo": "null"}}