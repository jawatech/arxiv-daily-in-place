{"2410.16090": {"publish_time": "2024-10-21", "title": "Analysing the Residual Stream of Language Models Under Knowledge Conflicts", "paper_summary": "Large language models (LLMs) can store a significant amount of factual\nknowledge in their parameters. However, their parametric knowledge may conflict\nwith the information provided in the context. Such conflicts can lead to\nundesirable model behaviour, such as reliance on outdated or incorrect\ninformation. In this work, we investigate whether LLMs can identify knowledge\nconflicts and whether it is possible to know which source of knowledge the\nmodel will rely on by analysing the residual stream of the LLM. Through probing\ntasks, we find that LLMs can internally register the signal of knowledge\nconflict in the residual stream, which can be accurately detected by probing\nthe intermediate model activations. This allows us to detect conflicts within\nthe residual stream before generating the answers without modifying the input\nor model parameters. Moreover, we find that the residual stream shows\nsignificantly different patterns when the model relies on contextual knowledge\nversus parametric knowledge to resolve conflicts. This pattern can be employed\nto estimate the behaviour of LLMs when conflict happens and prevent unexpected\nanswers before producing the answers. Our analysis offers insights into how\nLLMs internally manage knowledge conflicts and provides a foundation for\ndeveloping methods to control the knowledge selection processes.", "paper_summary_zh": "\u5927\u578b\u8a9e\u8a00\u6a21\u578b (LLM) \u53ef\u4ee5\u5c07\u5927\u91cf\u7684\u5be6\u969b\u77e5\u8b58\u5132\u5b58\u5728\u5176\u53c3\u6578\u4e2d\u3002\u7136\u800c\uff0c\u5b83\u5011\u7684\u53c3\u6578\u5316\u77e5\u8b58\u53ef\u80fd\u8207\u6587\u4e2d\u63d0\u4f9b\u7684\u8cc7\u8a0a\u76f8\u885d\u7a81\u3002\u6b64\u985e\u885d\u7a81\u53ef\u80fd\u6703\u5c0e\u81f4\u4e0d\u7406\u60f3\u7684\u6a21\u578b\u884c\u70ba\uff0c\u4f8b\u5982\u4f9d\u8cf4\u65bc\u904e\u6642\u6216\u4e0d\u6b63\u78ba\u7684\u8cc7\u8a0a\u3002\u5728\u9019\u9805\u5de5\u4f5c\u4e2d\uff0c\u6211\u5011\u63a2\u8a0e LLM \u662f\u5426\u80fd\u8b58\u5225\u77e5\u8b58\u885d\u7a81\uff0c\u4ee5\u53ca\u662f\u5426\u53ef\u4ee5\u900f\u904e\u5206\u6790 LLM \u7684\u6b98\u5dee\u6d41\u4f86\u5f97\u77e5\u6a21\u578b\u5c07\u4f9d\u8cf4\u65bc\u54ea\u500b\u77e5\u8b58\u4f86\u6e90\u3002\u900f\u904e\u63a2\u6e2c\u4efb\u52d9\uff0c\u6211\u5011\u767c\u73fe LLM \u80fd\u5728\u6b98\u5dee\u6d41\u4e2d\u5167\u90e8\u8a3b\u518a\u77e5\u8b58\u885d\u7a81\u8a0a\u865f\uff0c\u800c\u9019\u80fd\u900f\u904e\u63a2\u6e2c\u4e2d\u9593\u6a21\u578b\u7684\u6fc0\u6d3b\u4f86\u6e96\u78ba\u5730\u5075\u6e2c\u3002\u9019\u8b93\u6211\u5011\u5f97\u4ee5\u5728\u7522\u751f\u7b54\u6848\u4e4b\u524d\u5075\u6e2c\u6b98\u5dee\u6d41\u4e2d\u7684\u885d\u7a81\uff0c\u800c\u7121\u9700\u4fee\u6539\u8f38\u5165\u6216\u6a21\u578b\u53c3\u6578\u3002\u6b64\u5916\uff0c\u6211\u5011\u767c\u73fe\u7576\u6a21\u578b\u4f9d\u8cf4\u65bc\u8108\u7d61\u77e5\u8b58\u8207\u53c3\u6578\u5316\u77e5\u8b58\u4f86\u89e3\u6c7a\u885d\u7a81\u6642\uff0c\u6b98\u5dee\u6d41\u6703\u986f\u793a\u51fa\u986f\u8457\u4e0d\u540c\u7684\u6a21\u5f0f\u3002\u6b64\u6a21\u5f0f\u53ef\u7528\u65bc\u9810\u6e2c LLM \u5728\u767c\u751f\u885d\u7a81\u6642\u7684\u884c\u70ba\uff0c\u4e26\u5728\u7522\u751f\u7b54\u6848\u4e4b\u524d\u9632\u6b62\u51fa\u73fe\u610f\u5916\u7684\u7b54\u6848\u3002\u6211\u5011\u7684\u5206\u6790\u63d0\u4f9b\u4e86 LLM \u5982\u4f55\u5728\u5167\u90e8\u7ba1\u7406\u77e5\u8b58\u885d\u7a81\u7684\u898b\u89e3\uff0c\u4e26\u70ba\u958b\u767c\u63a7\u5236\u77e5\u8b58\u9078\u64c7\u7a0b\u5e8f\u7684\u65b9\u6cd5\u5960\u5b9a\u4e86\u57fa\u790e\u3002", "author": "Yu Zhao et.al.", "authors": "Yu Zhao, Xiaotang Du, Giwon Hong, Aryo Pradipta Gema, Alessio Devoto, Hongru Wang, Xuanli He, Kam-Fai Wong, Pasquale Minervini", "id": "2410.16090v1", "paper_url": "http://arxiv.org/abs/2410.16090v1", "repo": "null"}}