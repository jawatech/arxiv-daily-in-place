{"2407.17467": {"publish_time": "2024-07-24", "title": "CMR Scaling Law: Predicting Critical Mixture Ratios for Continual Pre-training of Language Models", "paper_summary": "Large Language Models (LLMs) excel in diverse tasks but often underperform in\nspecialized fields due to limited domain-specific or proprietary corpus.\nContinual pre-training (CPT) enhances LLM capabilities by imbuing new\ndomain-specific or proprietary knowledge while replaying general corpus to\nprevent catastrophic forgetting. The data mixture ratio of general corpus and\ndomain-specific corpus, however, has been chosen heuristically, leading to\nsub-optimal training efficiency in practice. In this context, we attempt to\nre-visit the scaling behavior of LLMs under the hood of CPT, and discover a\npower-law relationship between loss, mixture ratio, and training tokens scale.\nWe formalize the trade-off between general and domain-specific capabilities,\nleading to a well-defined Critical Mixture Ratio (CMR) of general and domain\ndata. By striking the balance, CMR maintains the model's general ability and\nachieves the desired domain transfer, ensuring the highest utilization of\navailable resources. Therefore, if we value the balance between efficiency and\neffectiveness, CMR can be consider as the optimal mixture ratio.Through\nextensive experiments, we ascertain the predictability of CMR, and propose CMR\nscaling law and have substantiated its generalization. These findings offer\npractical guidelines for optimizing LLM training in specialized domains,\nensuring both general and domain-specific performance while efficiently\nmanaging training resources.", "paper_summary_zh": "\u5927\u578b\u8a9e\u8a00\u6a21\u578b (LLM) \u5728\u5404\u7a2e\u4efb\u52d9\u4e2d\u8868\u73fe\u51fa\u8272\uff0c\u4f46\u7531\u65bc\u7279\u5b9a\u9818\u57df\u6216\u5c08\u6709\u8a9e\u6599\u5eab\u6709\u9650\uff0c\u5b83\u5011\u5728\u5c08\u696d\u9818\u57df\u7684\u8868\u73fe\u5f80\u5f80\u4e0d\u4f73\u3002\n\u6301\u7e8c\u9810\u8a13\u7df4 (CPT) \u53ef\u900f\u904e\u5c0e\u5165\u65b0\u7684\u7279\u5b9a\u9818\u57df\u6216\u5c08\u6709\u77e5\u8b58\uff0c\u540c\u6642\u91cd\u64ad\u4e00\u822c\u8a9e\u6599\u5eab\u4f86\u9632\u6b62\u707d\u96e3\u6027\u907a\u5fd8\uff0c\u9032\u800c\u589e\u5f37 LLM \u7684\u529f\u80fd\u3002\u7136\u800c\uff0c\u4e00\u822c\u8a9e\u6599\u5eab\u548c\u7279\u5b9a\u9818\u57df\u8a9e\u6599\u5eab\u7684\u8cc7\u6599\u6df7\u5408\u6bd4\u4f8b\u662f\u6839\u64da\u7d93\u9a57\u6cd5\u5247\u9078\u64c7\u7684\uff0c\u5c0e\u81f4\u5be6\u969b\u8a13\u7df4\u6548\u7387\u4e0d\u4f73\u3002\u5728\u6b64\u80cc\u666f\u4e0b\uff0c\u6211\u5011\u5617\u8a66\u91cd\u65b0\u63a2\u8a0e LLM \u5728 CPT \u5f15\u64ce\u84cb\u4e0b\u7684\u64f4\u5145\u884c\u70ba\uff0c\u4e26\u767c\u73fe\u640d\u5931\u3001\u6df7\u5408\u6bd4\u4f8b\u548c\u8a13\u7df4\u4ee3\u5e63\u898f\u6a21\u4e4b\u9593\u5b58\u5728\u51aa\u5f8b\u95dc\u4fc2\u3002\u6211\u5011\u5c07\u4e00\u822c\u529f\u80fd\u548c\u7279\u5b9a\u9818\u57df\u529f\u80fd\u4e4b\u9593\u7684\u6b0a\u8861\u5f62\u5f0f\u5316\uff0c\u9032\u800c\u5b9a\u7fa9\u51fa\u4e00\u822c\u8cc7\u6599\u548c\u9818\u57df\u8cc7\u6599\u7684\u660e\u78ba\u81e8\u754c\u6df7\u5408\u6bd4\u4f8b (CMR)\u3002CMR \u5728\u53d6\u5f97\u5e73\u8861\u5f8c\uff0c\u53ef\u7dad\u6301\u6a21\u578b\u7684\u4e00\u822c\u80fd\u529b\u4e26\u9054\u6210\u6240\u9700\u7684\u9818\u57df\u8f49\u79fb\uff0c\u78ba\u4fdd\u5c0d\u53ef\u7528\u8cc7\u6e90\u7684\u6700\u9ad8\u5229\u7528\u7387\u3002\u56e0\u6b64\uff0c\u5982\u679c\u6211\u5011\u91cd\u8996\u6548\u7387\u548c\u6548\u80fd\u4e4b\u9593\u7684\u5e73\u8861\uff0cCMR \u53ef\u4ee5\u8996\u70ba\u6700\u4f73\u6df7\u5408\u6bd4\u4f8b\u3002\u900f\u904e\u5ee3\u6cdb\u7684\u5be6\u9a57\uff0c\u6211\u5011\u78ba\u8a8d\u4e86 CMR \u7684\u53ef\u9810\u6e2c\u6027\uff0c\u4e26\u63d0\u51fa CMR \u64f4\u5145\u5b9a\u5f8b\uff0c\u4e26\u5df2\u8b49\u5be6\u5176\u6982\u62ec\u6027\u3002\u9019\u4e9b\u767c\u73fe\u63d0\u4f9b\u4e86\u5be6\u7528\u7684\u6e96\u5247\uff0c\u7528\u65bc\u6700\u4f73\u5316\u7279\u5b9a\u9818\u57df\u7684 LLM \u8a13\u7df4\uff0c\u540c\u6642\u78ba\u4fdd\u4e00\u822c\u548c\u7279\u5b9a\u9818\u57df\u7684\u6548\u80fd\uff0c\u4e26\u6709\u6548\u7ba1\u7406\u8a13\u7df4\u8cc7\u6e90\u3002", "author": "Jiawei Gu et.al.", "authors": "Jiawei Gu, Zacc Yang, Chuanghao Ding, Rui Zhao, Fei Tan", "id": "2407.17467v1", "paper_url": "http://arxiv.org/abs/2407.17467v1", "repo": "null"}}