{"2409.02038": {"publish_time": "2024-09-03", "title": "BEAVER: An Enterprise Benchmark for Text-to-SQL", "paper_summary": "Existing text-to-SQL benchmarks have largely been constructed using publicly\navailable tables from the web with human-generated tests containing question\nand SQL statement pairs. They typically show very good results and lead people\nto think that LLMs are effective at text-to-SQL tasks. In this paper, we apply\noff-the-shelf LLMs to a benchmark containing enterprise data warehouse data. In\nthis environment, LLMs perform poorly, even when standard prompt engineering\nand RAG techniques are utilized. As we will show, the reasons for poor\nperformance are largely due to three characteristics: (1) public LLMs cannot\ntrain on enterprise data warehouses because they are largely in the \"dark web\",\n(2) schemas of enterprise tables are more complex than the schemas in public\ndata, which leads the SQL-generation task innately harder, and (3)\nbusiness-oriented questions are often more complex, requiring joins over\nmultiple tables and aggregations. As a result, we propose a new dataset BEAVER,\nsourced from real enterprise data warehouses together with natural language\nqueries and their correct SQL statements which we collected from actual user\nhistory. We evaluated this dataset using recent LLMs and demonstrated their\npoor performance on this task. We hope this dataset will facilitate future\nresearchers building more sophisticated text-to-SQL systems which can do better\non this important class of data.", "paper_summary_zh": "\u73fe\u6709\u7684\u6587\u5b57\u8f49 SQL \u8a55\u91cf\u57fa\u6e96\u5728\u5f88\u5927\u7a0b\u5ea6\u4e0a\u662f\u4f7f\u7528\u7db2\u8def\u4e0a\u516c\u958b\u7684\u8868\u683c\u5efa\u69cb\uff0c\u5176\u4e2d\u5305\u542b\u4eba\u985e\u7522\u751f\u7684\u6e2c\u8a66\uff0c\u5305\u542b\u554f\u984c\u548c SQL \u8a9e\u53e5\u914d\u5c0d\u3002\u5b83\u5011\u901a\u5e38\u986f\u793a\u975e\u5e38\u597d\u7684\u7d50\u679c\uff0c\u4e26\u8b93\u4eba\u5011\u8a8d\u70ba LLM \u5728\u6587\u5b57\u8f49 SQL \u4efb\u52d9\u4e2d\u5f88\u6709\u6548\u3002\u5728\u672c\u6587\u4e2d\uff0c\u6211\u5011\u5c07\u73fe\u6210\u7684 LLM \u61c9\u7528\u65bc\u5305\u542b\u4f01\u696d\u8cc7\u6599\u5009\u5132\u8cc7\u6599\u7684\u8a55\u91cf\u57fa\u6e96\u3002\u5728\u6b64\u74b0\u5883\u4e2d\uff0c\u5373\u4f7f\u4f7f\u7528\u4e86\u6a19\u6e96\u63d0\u793a\u5de5\u7a0b\u548c RAG \u6280\u8853\uff0cLLM \u7684\u8868\u73fe\u4e5f\u5f88\u5dee\u3002\u6b63\u5982\u6211\u5011\u5c07\u5c55\u793a\u7684\uff0c\u8868\u73fe\u4e0d\u4f73\u7684\u539f\u56e0\u5728\u5f88\u5927\u7a0b\u5ea6\u4e0a\u662f\u57fa\u65bc\u4e09\u500b\u7279\u5fb5\uff1a(1) \u516c\u5171 LLM \u7121\u6cd5\u8a13\u7df4\u4f01\u696d\u8cc7\u6599\u5009\u5132\uff0c\u56e0\u70ba\u5b83\u5011\u5728\u5f88\u5927\u7a0b\u5ea6\u4e0a\u5c6c\u65bc\u300c\u6697\u7db2\u300d\uff0c(2) \u4f01\u696d\u8868\u683c\u7684\u67b6\u69cb\u6bd4\u516c\u5171\u8cc7\u6599\u4e2d\u7684\u67b6\u69cb\u66f4\u8907\u96dc\uff0c\u9019\u4f7f\u5f97 SQL \u751f\u6210\u4efb\u52d9\u5929\u751f\u5c31\u66f4\u56f0\u96e3\uff0c\u4ee5\u53ca (3) \u9762\u5411\u696d\u52d9\u7684\u554f\u984c\u901a\u5e38\u66f4\u8907\u96dc\uff0c\u9700\u8981\u8de8\u591a\u500b\u8868\u683c\u548c\u805a\u5408\u9032\u884c\u806f\u7d50\u3002\u56e0\u6b64\uff0c\u6211\u5011\u63d0\u51fa\u4e00\u500b\u65b0\u7684\u8cc7\u6599\u96c6 BEAVER\uff0c\u5b83\u4f86\u81ea\u5be6\u969b\u7684\u4f01\u696d\u8cc7\u6599\u5009\u5132\uff0c\u4ee5\u53ca\u6211\u5011\u5f9e\u5be6\u969b\u4f7f\u7528\u8005\u8a18\u9304\u4e2d\u6536\u96c6\u7684\u81ea\u7136\u8a9e\u8a00\u67e5\u8a62\u53ca\u5176\u6b63\u78ba\u7684 SQL \u8a9e\u53e5\u3002\u6211\u5011\u4f7f\u7528\u6700\u8fd1\u7684 LLM \u8a55\u4f30\u6b64\u8cc7\u6599\u96c6\uff0c\u4e26\u8b49\u660e\u5b83\u5011\u5728\u6b64\u4efb\u52d9\u4e0a\u7684\u8868\u73fe\u4e0d\u4f73\u3002\u6211\u5011\u5e0c\u671b\u9019\u500b\u8cc7\u6599\u96c6\u5c07\u6709\u52a9\u65bc\u672a\u4f86\u7684\u7814\u7a76\u4eba\u54e1\u5efa\u69cb\u66f4\u7cbe\u5bc6\u7684\u6587\u5b57\u8f49 SQL \u7cfb\u7d71\uff0c\u4ee5\u4fbf\u5728\u9019\u500b\u91cd\u8981\u7684\u8cc7\u6599\u985e\u5225\u4e0a\u8868\u73fe\u5f97\u66f4\u597d\u3002", "author": "Peter Baile Chen et.al.", "authors": "Peter Baile Chen, Fabian Wenz, Yi Zhang, Moe Kayali, Nesime Tatbul, Michael Cafarella, \u00c7a\u011fatay Demiralp, Michael Stonebraker", "id": "2409.02038v1", "paper_url": "http://arxiv.org/abs/2409.02038v1", "repo": "null"}}