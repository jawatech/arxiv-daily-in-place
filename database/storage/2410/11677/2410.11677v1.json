{"2410.11677": {"publish_time": "2024-10-15", "title": "Understanding Likelihood Over-optimisation in Direct Alignment Algorithms", "paper_summary": "Direct Alignment Algorithms (DAAs), such as Direct Preference Optimisation\n(DPO) and Identity Preference Optimisation (IPO), have emerged as alternatives\nto online Reinforcement Learning from Human Feedback (RLHF) algorithms such as\nProximal Policy Optimisation (PPO) for aligning language models to human\npreferences, without the need for explicit reward modelling. These methods\ngenerally aim to increase the likelihood of generating better (preferred)\ncompletions while discouraging worse (non-preferred) ones, while staying close\nto the original model's behaviour. In this work, we explore the relationship\nbetween completion likelihood and model performance in state-of-the-art DAAs,\nand identify a critical issue of likelihood over-optimisation. Contrary to\nexpectations, we find that higher likelihood of better completions and larger\nmargins between better and worse completion likelihoods do not necessarily lead\nto better performance, and may even degrade it. Our analysis reveals that while\nhigher likelihood correlates with better memorisation of factual knowledge\npatterns, a slightly lower completion likelihood tends to improve output\ndiversity, thus leading to better generalisation to unseen scenarios. Moreover,\nwe identify two key indicators that signal when over-optimised output diversity\nbegins to harm performance: Decreasing Entropy over Top-k Tokens and\nDiminishing Top-k Probability Mass. Our experimental results validate that\nthese indicators are reliable signs of declining performance under different\nregularisations, helping prevent over-optimisation and improve alignment with\nhuman preferences.", "paper_summary_zh": "\u76f4\u63a5\u5c0d\u9f4a\u6f14\u7b97\u6cd5\uff08DAA\uff09\uff0c\u4f8b\u5982\u76f4\u63a5\u504f\u597d\u6700\u4f73\u5316\uff08DPO\uff09\u548c\u8eab\u5206\u504f\u597d\u6700\u4f73\u5316\uff08IPO\uff09\uff0c\u5df2\u6d6e\u73fe\u70ba\u7dda\u4e0a\u5f37\u5316\u5b78\u7fd2\u4e2d\uff0c\u4f86\u81ea\u4eba\u985e\u56de\u994b\uff08RLHF\uff09\u6f14\u7b97\u6cd5\u7684\u66ff\u4ee3\u65b9\u6848\uff0c\u4f8b\u5982\u9130\u8fd1\u7b56\u7565\u6700\u4f73\u5316\uff08PPO\uff09\uff0c\u7528\u65bc\u5c07\u8a9e\u8a00\u6a21\u578b\u8207\u4eba\u985e\u504f\u597d\u5c0d\u9f4a\uff0c\u800c\u7121\u9700\u660e\u78ba\u7684\u734e\u52f5\u5efa\u6a21\u3002\u9019\u4e9b\u65b9\u6cd5\u901a\u5e38\u65e8\u5728\u63d0\u9ad8\u7522\u751f\u66f4\u597d\uff08\u504f\u597d\uff09\u5b8c\u6210\u7684\u53ef\u80fd\u6027\uff0c\u540c\u6642\u963b\u6b62\u66f4\u5dee\uff08\u975e\u504f\u597d\uff09\u7684\u5b8c\u6210\uff0c\u540c\u6642\u4fdd\u6301\u63a5\u8fd1\u539f\u59cb\u6a21\u578b\u7684\u884c\u70ba\u3002\u5728\u9019\u9805\u5de5\u4f5c\u4e2d\uff0c\u6211\u5011\u63a2\u8a0e\u4e86\u6700\u5148\u9032\u7684 DAA \u4e2d\u5b8c\u6210\u53ef\u80fd\u6027\u8207\u6a21\u578b\u6548\u80fd\u4e4b\u9593\u7684\u95dc\u4fc2\uff0c\u4e26\u627e\u51fa\u53ef\u80fd\u6027\u904e\u5ea6\u6700\u4f73\u5316\u7684\u95dc\u9375\u554f\u984c\u3002\u8207\u9810\u671f\u76f8\u53cd\uff0c\u6211\u5011\u767c\u73fe\u66f4\u597d\u7684\u5b8c\u6210\u7684\u53ef\u80fd\u6027\u8f03\u9ad8\uff0c\u4ee5\u53ca\u66f4\u597d\u548c\u66f4\u5dee\u7684\u5b8c\u6210\u53ef\u80fd\u6027\u4e4b\u9593\u7684\u908a\u969b\u8f03\u5927\uff0c\u4e26\u975e\u5fc5\u7136\u6703\u5c0e\u81f4\u66f4\u597d\u7684\u6548\u80fd\uff0c\u751a\u81f3\u53ef\u80fd\u964d\u4f4e\u6548\u80fd\u3002\u6211\u5011\u7684\u5206\u6790\u986f\u793a\uff0c\u96d6\u7136\u8f03\u9ad8\u7684\u53ef\u80fd\u6027\u8207\u4e8b\u5be6\u77e5\u8b58\u6a21\u5f0f\u7684\u8f03\u597d\u8a18\u61b6\u529b\u76f8\u95dc\uff0c\u4f46\u7a0d\u4f4e\u7684\u5b8c\u6210\u53ef\u80fd\u6027\u5f80\u5f80\u6703\u6539\u5584\u8f38\u51fa\u591a\u6a23\u6027\uff0c\u5f9e\u800c\u5c0e\u81f4\u5c0d\u672a\u898b\u60c5\u5883\u7684\u6982\u62ec\u6027\u66f4\u597d\u3002\u6b64\u5916\uff0c\u6211\u5011\u627e\u51fa\u5169\u500b\u95dc\u9375\u6307\u6a19\uff0c\u8868\u793a\u904e\u5ea6\u6700\u4f73\u5316\u7684\u8f38\u51fa\u591a\u6a23\u6027\u958b\u59cb\u5c0d\u6548\u80fd\u9020\u6210\u50b7\u5bb3\uff1a\u524d k \u500b\u4ee3\u5e63\u7684\u71b5\u905e\u6e1b\u548c\u524d k \u500b\u6a5f\u7387\u8cea\u91cf\u905e\u6e1b\u3002\u6211\u5011\u7684\u5be6\u9a57\u7d50\u679c\u9a57\u8b49\uff0c\u9019\u4e9b\u6307\u6a19\u662f\u5728\u4e0d\u540c\u898f\u7bc4\u4e0b\u6548\u80fd\u4e0b\u964d\u7684\u53ef\u9760\u8de1\u8c61\uff0c\u6709\u52a9\u65bc\u9632\u6b62\u904e\u5ea6\u6700\u4f73\u5316\u4e26\u6539\u5584\u8207\u4eba\u985e\u504f\u597d\u7684\u5c0d\u9f4a\u3002", "author": "Zhengyan Shi et.al.", "authors": "Zhengyan Shi, Sander Land, Acyr Locatelli, Matthieu Geist, Max Bartolo", "id": "2410.11677v1", "paper_url": "http://arxiv.org/abs/2410.11677v1", "repo": "null"}}