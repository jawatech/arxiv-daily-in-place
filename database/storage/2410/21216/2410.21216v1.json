{"2410.21216": {"publish_time": "2024-10-28", "title": "HoPE: A Novel Positional Encoding Without Long-Term Decay for Enhanced Context Awareness and Extrapolation", "paper_summary": "Many positional encodings (PEs) are designed to exhibit long-term decay,\nbased on an entrenched and long-standing inductive opinion: tokens farther away\nfrom the current position carry less relevant information. We argue that\nlong-term decay is outdated in the era of LLMs, as LLMs are now applied to\ntasks demanding precise retrieval of in-context information from arbitrary\npositions. Firstly, we present empirical analyses on various PEs, demonstrating\nthat models inherently learn attention with only a local-decay pattern while\nforming a U-shape pattern globally, contradicting the principle of long-term\ndecay. Furthermore, we conduct a detailed analysis of rotary position encoding\n(RoPE, a prevalent relative positional encoding in LLMs), and found that the\nU-shape attention is caused by some learned components, which are also the key\nfactor limiting RoPE's expressiveness and extrapolation.Inspired by these\ninsights, we propose High-frequency rotary Position Encoding (HoPE). HoPE\nreplaces the specific components in RoPE with position-independent ones,\nretaining only high-frequency signals, which also breaks the principle of\nlong-term decay in theory. HoPE achieves two major advantages: (1) Without\nconstraints imposed by long-term decay, contradictory factors that limit\nspontaneous attention optimization and model extrapolation performance are\nremoved. (2) Components representing positions and semantics are are optimized.\nThese enhances model's context awareness and extrapolation, as validated by\nextensive experiments.", "paper_summary_zh": "\u8a31\u591a\u4f4d\u7f6e\u7de8\u78bc\uff08PE\uff09\u88ab\u8a2d\u8a08\u70ba\u8868\u73fe\u51fa\u9577\u671f\u8870\u6e1b\uff0c\n\u57fa\u65bc\u6839\u6df1\u8482\u56fa\u4e14\u9577\u671f\u7684\u6b78\u7d0d\u89c0\u9ede\uff1a\u8ddd\u96e2\u7576\u524d\u4f4d\u7f6e\u8f03\u9060\u7684\u7b26\u865f\u50b3\u9054\u8f03\u4e0d\u76f8\u95dc\u7684\u8cc7\u8a0a\u3002\u6211\u5011\u4e3b\u5f35\n\u9577\u671f\u8870\u6e1b\u5728 LLM \u6642\u4ee3\u5df2\u7d93\u904e\u6642\uff0c\u56e0\u70ba LLM \u73fe\u5728\u88ab\u61c9\u7528\u65bc\n\u5f9e\u4efb\u610f\u4f4d\u7f6e\u7cbe\u78ba\u64f7\u53d6\u4e0a\u4e0b\u6587\u8cc7\u8a0a\u7684\u4efb\u52d9\u3002\u9996\u5148\uff0c\u6211\u5011\u5c0d\u5404\u7a2e PE \u63d0\u51fa\u5be6\u8b49\u5206\u6790\uff0c\u8b49\u660e\n\u6a21\u578b\u5728\u5f62\u6210 U \u5f62\u6a21\u5f0f\u7684\u540c\u6642\uff0c\u672c\u8cea\u4e0a\u53ea\u5b78\u7fd2\u5177\u6709\u5c40\u90e8\u8870\u6e1b\u6a21\u5f0f\u7684\u6ce8\u610f\u529b\uff0c\u9019\u8207\u9577\u671f\u8870\u6e1b\u7684\u539f\u5247\u76f8\u77db\u76fe\u3002\u6b64\u5916\uff0c\u6211\u5011\u5c0d\u65cb\u8f49\u4f4d\u7f6e\u7de8\u78bc\uff08RoPE\uff0cLLM \u4e2d\u666e\u904d\u7684\u76f8\u5c0d\u4f4d\u7f6e\u7de8\u78bc\uff09\u9032\u884c\u4e86\u8a73\u7d30\u5206\u6790\uff0c\u767c\u73fe U \u5f62\u6ce8\u610f\u529b\u662f\u7531\u4e00\u4e9b\u5b78\u7fd2\u7d44\u6210\u90e8\u5206\u9020\u6210\u7684\uff0c\u9019\u4e9b\u7d44\u6210\u90e8\u5206\u4e5f\u662f\u9650\u5236 RoPE \u8868\u73fe\u529b\u548c\u5916\u63a8\u80fd\u529b\u7684\u95dc\u9375\u56e0\u7d20\u3002\u53d7\u5230\u9019\u4e9b\u898b\u89e3\u7684\u555f\u767c\uff0c\u6211\u5011\u63d0\u51fa\u4e86\u9ad8\u983b\u65cb\u8f49\u4f4d\u7f6e\u7de8\u78bc\uff08HoPE\uff09\u3002HoPE \u7528\u8207\u4f4d\u7f6e\u7121\u95dc\u7684\u7d44\u6210\u90e8\u5206\u53d6\u4ee3 RoPE \u4e2d\u7684\u7279\u5b9a\u7d44\u6210\u90e8\u5206\uff0c\u53ea\u4fdd\u7559\u9ad8\u983b\u8a0a\u865f\uff0c\u9019\u5728\u7406\u8ad6\u4e0a\u4e5f\u6253\u7834\u4e86\u9577\u671f\u8870\u6e1b\u7684\u539f\u5247\u3002HoPE \u7372\u5f97\u4e86\u5169\u500b\u4e3b\u8981\u512a\u9ede\uff1a\uff081\uff09\u5728\u4e0d\u53d7\u9577\u671f\u8870\u6e1b\u7d04\u675f\u7684\u60c5\u6cc1\u4e0b\uff0c\u9650\u5236\u81ea\u767c\u6ce8\u610f\u529b\u6700\u4f73\u5316\u548c\u6a21\u578b\u5916\u63a8\u6548\u80fd\u7684\u77db\u76fe\u56e0\u7d20\u88ab\u6d88\u9664\u4e86\u3002\uff082\uff09\u4ee3\u8868\u4f4d\u7f6e\u548c\u8a9e\u610f\u7684\u7d44\u6210\u90e8\u5206\u7d93\u904e\u6700\u4f73\u5316\u3002\u9019\u4e9b\u589e\u5f37\u4e86\u6a21\u578b\u7684\u4e0a\u4e0b\u6587\u611f\u77e5\u548c\u5916\u63a8\u80fd\u529b\uff0c\u7d93\u7531\u5ee3\u6cdb\u7684\u5be6\u9a57\u9a57\u8b49\u3002", "author": "Yuhan Chen et.al.", "authors": "Yuhan Chen, Ang Lv, Jian Luan, Bin Wang, Wei Liu", "id": "2410.21216v1", "paper_url": "http://arxiv.org/abs/2410.21216v1", "repo": "null"}}