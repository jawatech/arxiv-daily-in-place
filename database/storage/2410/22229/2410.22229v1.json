{"2410.22229": {"publish_time": "2024-10-29", "title": "Cora: Accelerating Stateful Network Applications with SmartNICs", "paper_summary": "With the growing performance requirements on networked applications, there is\na new trend of offloading stateful network applications to SmartNICs to improve\nperformance and reduce the total cost of ownership. However, offloading\nstateful network applications is non-trivial due to state operation complexity,\nstate resource consumption, and the complicated relationship between traffic\nand state. Naively partitioning the program by state or traffic can result in a\nsuboptimal partition plan with higher CPU usage or even packet drops. In this\npaper, we propose Cora, a compiler and runtime that offloads stateful network\napplications to SmartNIC-accelerated hosts. Cora compiler introduces an\naccurate performance model for each SmartNIC and employs an efficient compiling\nalgorithm to search the offloading plan. Cora runtime can monitor traffic\ndynamics and adapt to minimize CPU usage. Cora is built atop Netronome Agilio\nand BlueField 2 SmartNICs. Our evaluation shows that for the same throughput\ntarget, Cora can propose partition plans saving up to 94.0% CPU cores, 1.9\ntimes more than baseline solutions. Under the same resource constraint, Cora\ncan accelerate network functions by 44.9%-82.3%. Cora runtime can adapt to\ntraffic changes and keep CPU usage low.", "paper_summary_zh": "\u968f\u7740\u7f51\u7edc\u5e94\u7528\u7a0b\u5e8f\u5bf9\u6027\u80fd\u8981\u6c42\u7684\u63d0\u9ad8\uff0c\u51fa\u73b0\u4e86\u4e00\u79cd\u65b0\u7684\u8d8b\u52bf\uff0c\u5373\u5378\u8f7d\u6709\u72b6\u6001\u7f51\u7edc\u5e94\u7528\u7a0b\u5e8f\u5230 SmartNIC \u4ee5\u63d0\u9ad8\u6027\u80fd\u5e76\u964d\u4f4e\u603b\u4f53\u62e5\u6709\u6210\u672c\u3002\u7136\u800c\uff0c\u7531\u4e8e\u72b6\u6001\u64cd\u4f5c\u7684\u590d\u6742\u6027\u3001\u72b6\u6001\u8d44\u6e90\u6d88\u8017\u4ee5\u53ca\u6d41\u91cf\u548c\u72b6\u6001\u4e4b\u95f4\u7684\u590d\u6742\u5173\u7cfb\uff0c\u5378\u8f7d\u6709\u72b6\u6001\u7f51\u7edc\u5e94\u7528\u7a0b\u5e8f\u5e76\u975e\u6613\u4e8b\u3002\u5929\u771f\u5730\u6309\u72b6\u6001\u6216\u6d41\u91cf\u5bf9\u7a0b\u5e8f\u8fdb\u884c\u5206\u533a\u53ef\u80fd\u4f1a\u5bfc\u81f4\u5206\u533a\u8ba1\u5212\u4e0d\u7406\u60f3\uff0c\u4ece\u800c\u5bfc\u81f4 CPU \u4f7f\u7528\u7387\u66f4\u9ad8\uff0c\u751a\u81f3\u4e22\u5305\u3002\u5728\u672c\u6587\u4e2d\uff0c\u6211\u4eec\u63d0\u51fa\u4e86 Cora\uff0c\u8fd9\u662f\u4e00\u4e2a\u5c06\u6709\u72b6\u6001\u7f51\u7edc\u5e94\u7528\u7a0b\u5e8f\u5378\u8f7d\u5230 SmartNIC \u52a0\u901f\u4e3b\u673a\u7684\u7f16\u8bd1\u5668\u548c\u8fd0\u884c\u65f6\u3002Cora \u7f16\u8bd1\u5668\u4e3a\u6bcf\u4e2a SmartNIC \u5f15\u5165\u4e86\u4e00\u4e2a\u51c6\u786e\u7684\u6027\u80fd\u6a21\u578b\uff0c\u5e76\u91c7\u7528\u4e86\u4e00\u79cd\u9ad8\u6548\u7684\u7f16\u8bd1\u7b97\u6cd5\u6765\u641c\u7d22\u5378\u8f7d\u8ba1\u5212\u3002Cora \u8fd0\u884c\u65f6\u53ef\u4ee5\u76d1\u63a7\u6d41\u91cf\u52a8\u6001\u5e76\u8fdb\u884c\u8c03\u6574\u4ee5\u6700\u5927\u7a0b\u5ea6\u5730\u51cf\u5c11 CPU \u4f7f\u7528\u7387\u3002Cora \u5efa\u7acb\u5728 Netronome Agilio \u548c BlueField 2 SmartNIC \u4e4b\u4e0a\u3002\u6211\u4eec\u7684\u8bc4\u4f30\u8868\u660e\uff0c\u5bf9\u4e8e\u76f8\u540c\u7684\u541e\u5410\u91cf\u76ee\u6807\uff0cCora \u53ef\u4ee5\u63d0\u51fa\u5206\u533a\u8ba1\u5212\uff0c\u8282\u7701\u9ad8\u8fbe 94.0% \u7684 CPU \u5185\u6838\uff0c\u6bd4\u57fa\u7ebf\u89e3\u51b3\u65b9\u6848\u591a 1.9 \u500d\u3002\u5728\u76f8\u540c\u7684\u8d44\u6e90\u9650\u5236\u4e0b\uff0cCora \u53ef\u4ee5\u5c06\u7f51\u7edc\u529f\u80fd\u52a0\u901f 44.9%-82.3%\u3002Cora \u8fd0\u884c\u65f6\u53ef\u4ee5\u9002\u5e94\u6d41\u91cf\u53d8\u5316\u5e76\u4fdd\u6301\u8f83\u4f4e\u7684 CPU \u4f7f\u7528\u7387\u3002", "author": "Shaoke Xi et.al.", "authors": "Shaoke Xi, Jiaqi Gao, Mengqi Liu, Jiamin Cao, Fuliang Li, Kai Bu, Kui Ren, Minlan Yu, Dennis Cai, Ennan Zhai", "id": "2410.22229v1", "paper_url": "http://arxiv.org/abs/2410.22229v1", "repo": "null"}}