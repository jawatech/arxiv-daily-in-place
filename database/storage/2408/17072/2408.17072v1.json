{"2408.17072": {"publish_time": "2024-08-30", "title": "MaFeRw: Query Rewriting with Multi-Aspect Feedbacks for Retrieval-Augmented Large Language Models", "paper_summary": "In a real-world RAG system, the current query often involves spoken ellipses\nand ambiguous references from dialogue contexts, necessitating query rewriting\nto better describe user's information needs. However, traditional context-based\nrewriting has minimal enhancement on downstream generation tasks due to the\nlengthy process from query rewriting to response generation. Some researchers\ntry to utilize reinforcement learning with generation feedback to assist the\nrewriter, but these sparse rewards provide little guidance in most cases,\nleading to unstable training and generation results. We find that user's needs\nare also reflected in the gold document, retrieved documents and ground truth.\nTherefore, by feeding back these multi-aspect dense rewards to query rewriting,\nmore stable and satisfactory responses can be achieved. In this paper, we\npropose a novel query rewriting method MaFeRw, which improves RAG performance\nby integrating multi-aspect feedback from both the retrieval process and\ngenerated results. Specifically, we first use manual data to train a T5 model\nfor the rewriter initialization. Next, we design three metrics as reinforcement\nlearning feedback: the similarity between the rewritten query and the gold\ndocument, the ranking metrics, and ROUGE between the generation and the ground\ntruth. Inspired by RLAIF, we train three kinds of reward models for the above\nmetrics to achieve more efficient training. Finally, we combine the scores of\nthese reward models as feedback, and use PPO algorithm to explore the optimal\nquery rewriting strategy. Experimental results on two conversational RAG\ndatasets demonstrate that MaFeRw achieves superior generation metrics and more\nstable training compared to baselines.", "paper_summary_zh": "<paragraph>\u5728\u771f\u5be6\u4e16\u754c\u7684 RAG \u7cfb\u7d71\u4e2d\uff0c\u76ee\u524d\u7684\u67e5\u8a62\u901a\u5e38\u5305\u542b\u5c0d\u8a71\u8a9e\u5883\u4e2d\u7684\u53e3\u8a9e\u7701\u7565\u865f\u548c\u6a21\u7a1c\u5169\u53ef\u7684\u5f15\u7528\uff0c\u9700\u8981\u67e5\u8a62\u6539\u5beb\u624d\u80fd\u66f4\u6e96\u78ba\u5730\u63cf\u8ff0\u4f7f\u7528\u8005\u7684\u8cc7\u8a0a\u9700\u6c42\u3002\u7136\u800c\uff0c\u50b3\u7d71\u7684\u57fa\u65bc\u8a9e\u5883\u7684\u6539\u5beb\u7531\u65bc\u5f9e\u67e5\u8a62\u6539\u5beb\u5230\u56de\u61c9\u7522\u751f\u7684\u904e\u7a0b\u5197\u9577\uff0c\u56e0\u6b64\u5c0d\u4e0b\u6e38\u7522\u751f\u4efb\u52d9\u7684\u589e\u5f37\u6548\u679c\u5f88\u5c0f\u3002\u4e00\u4e9b\u7814\u7a76\u4eba\u54e1\u5617\u8a66\u5229\u7528\u5f37\u5316\u5b78\u7fd2\u548c\u7522\u751f\u56de\u994b\u4f86\u5354\u52a9\u6539\u5beb\u5668\uff0c\u4f46\u9019\u4e9b\u7a00\u758f\u7684\u734e\u52f5\u5728\u591a\u6578\u60c5\u6cc1\u4e0b\u63d0\u4f9b\u7684\u6307\u5c0e\u5f88\u5c11\uff0c\u5c0e\u81f4\u8a13\u7df4\u548c\u7522\u751f\u7d50\u679c\u4e0d\u7a69\u5b9a\u3002\u6211\u5011\u767c\u73fe\u4f7f\u7528\u8005\u7684\u9700\u6c42\u4e5f\u53cd\u6620\u5728\u9ec3\u91d1\u6587\u4ef6\u3001\u6aa2\u7d22\u6587\u4ef6\u548c\u57fa\u672c\u4e8b\u5be6\u4e2d\u3002\u56e0\u6b64\uff0c\u900f\u904e\u5c07\u9019\u4e9b\u591a\u9762\u5411\u7684\u5bc6\u96c6\u734e\u52f5\u56de\u994b\u5230\u67e5\u8a62\u6539\u5beb\u4e2d\uff0c\u53ef\u4ee5\u7372\u5f97\u66f4\u7a69\u5b9a\u4e14\u4ee4\u4eba\u6eff\u610f\u7684\u56de\u61c9\u3002\u5728\u672c\u6587\u4e2d\uff0c\u6211\u5011\u63d0\u51fa\u4e86\u4e00\u7a2e\u65b0\u7a4e\u7684\u67e5\u8a62\u6539\u5beb\u65b9\u6cd5 MaFeRw\uff0c\u5b83\u900f\u904e\u6574\u5408\u4f86\u81ea\u6aa2\u7d22\u904e\u7a0b\u548c\u7522\u751f\u7d50\u679c\u7684\u591a\u9762\u5411\u56de\u994b\u4f86\u6539\u5584 RAG \u6548\u80fd\u3002\u5177\u9ad4\u4f86\u8aaa\uff0c\u6211\u5011\u9996\u5148\u4f7f\u7528\u624b\u52d5\u8cc7\u6599\u4f86\u8a13\u7df4 T5 \u6a21\u578b\uff0c\u4ee5\u521d\u59cb\u5316\u6539\u5beb\u5668\u3002\u63a5\u4e0b\u4f86\uff0c\u6211\u5011\u8a2d\u8a08\u4e86\u4e09\u500b\u6307\u6a19\u4f5c\u70ba\u5f37\u5316\u5b78\u7fd2\u56de\u994b\uff1a\u6539\u5beb\u67e5\u8a62\u8207\u9ec3\u91d1\u6587\u4ef6\u4e4b\u9593\u7684\u76f8\u4f3c\u5ea6\u3001\u6392\u540d\u6307\u6a19\u4ee5\u53ca\u7522\u751f\u7d50\u679c\u8207\u57fa\u672c\u4e8b\u5be6\u4e4b\u9593\u7684 ROUGE\u3002\u5728 RLAIF \u7684\u555f\u767c\u4e0b\uff0c\u6211\u5011\u8a13\u7df4\u4e86\u4e09\u7a2e\u985e\u578b\u7684\u734e\u52f5\u6a21\u578b\uff0c\u4ee5\u9054\u6210\u66f4\u6709\u6548\u7387\u7684\u8a13\u7df4\u3002\u6700\u5f8c\uff0c\u6211\u5011\u5c07\u9019\u4e9b\u734e\u52f5\u6a21\u578b\u7684\u5206\u6578\u7d50\u5408\u70ba\u56de\u994b\uff0c\u4e26\u4f7f\u7528 PPO \u6f14\u7b97\u6cd5\u4f86\u63a2\u7d22\u6700\u4f73\u7684\u67e5\u8a62\u6539\u5beb\u7b56\u7565\u3002\u5728\u5169\u500b\u5c0d\u8a71\u5f0f RAG \u8cc7\u6599\u96c6\u4e0a\u7684\u5be6\u9a57\u7d50\u679c\u8868\u660e\uff0c\u8207\u57fa\u6e96\u76f8\u6bd4\uff0cMaFeRw \u9054\u5230\u4e86\u512a\u7570\u7684\u7522\u751f\u6307\u6a19\u548c\u66f4\u7a69\u5b9a\u7684\u8a13\u7df4\u3002</paragraph>", "author": "Yujing Wang et.al.", "authors": "Yujing Wang, Hainan Zhang, Liang Pang, Liang Pang, Hongwei Zheng, Zhiming Zheng", "id": "2408.17072v1", "paper_url": "http://arxiv.org/abs/2408.17072v1", "repo": "null"}}