{"2412.17747": {"publish_time": "2024-12-23", "title": "Deliberation in Latent Space via Differentiable Cache Augmentation", "paper_summary": "Techniques enabling large language models (LLMs) to \"think more\" by\ngenerating and attending to intermediate reasoning steps have shown promise in\nsolving complex problems. However, the standard approaches generate sequences\nof discrete tokens immediately before responding, and so they can incur\nsignificant latency costs and be challenging to optimize. In this work, we\ndemonstrate that a frozen LLM can be augmented with an offline coprocessor that\noperates on the model's key-value (kv) cache. This coprocessor augments the\ncache with a set of latent embeddings designed to improve the fidelity of\nsubsequent decoding. We train this coprocessor using the language modeling loss\nfrom the decoder on standard pretraining data, while keeping the decoder itself\nfrozen. This approach enables the model to learn, in an end-to-end\ndifferentiable fashion, how to distill additional computation into its\nkv-cache. Because the decoder remains unchanged, the coprocessor can operate\noffline and asynchronously, and the language model can function normally if the\ncoprocessor is unavailable or if a given cache is deemed not to require extra\ncomputation. We show experimentally that when a cache is augmented, the decoder\nachieves lower perplexity on numerous subsequent tokens. Furthermore, even\nwithout any task-specific training, our experiments demonstrate that cache\naugmentation consistently reduces perplexity and improves performance across a\nrange of reasoning-intensive tasks.", "paper_summary_zh": "\u5927\u578b\u8a9e\u8a00\u6a21\u578b (LLM) \u80fd\u5920\u900f\u904e\u7522\u751f\u548c\u95dc\u6ce8\u4e2d\u9593\u63a8\u7406\u6b65\u9a5f\u4f86\u300c\u66f4\u6df1\u5165\u601d\u8003\u300d\u7684\u6280\u8853\u5df2\u5728\u89e3\u6c7a\u8907\u96dc\u554f\u984c\u65b9\u9762\u5c55\u73fe\u524d\u666f\u3002\u7136\u800c\uff0c\u6a19\u6e96\u65b9\u6cd5\u6703\u5728\u56de\u61c9\u524d\u7acb\u5373\u7522\u751f\u96e2\u6563\u7b26\u865f\u7684\u5e8f\u5217\uff0c\u56e0\u6b64\u53ef\u80fd\u6703\u7522\u751f\u986f\u8457\u7684\u5ef6\u9072\u6210\u672c\uff0c\u4e14\u96e3\u4ee5\u6700\u4f73\u5316\u3002\u5728\u9019\u9805\u5de5\u4f5c\u4e2d\uff0c\u6211\u5011\u8b49\u660e\u4e86\u4e00\u500b\u51cd\u7d50\u7684 LLM \u53ef\u4ee5\u900f\u904e\u4e00\u500b\u96e2\u7dda\u5354\u540c\u8655\u7406\u5668\u9032\u884c\u64f4\u5145\uff0c\u8a72\u5354\u540c\u8655\u7406\u5668\u5728\u6a21\u578b\u7684\u5feb\u53d6\u503c (kv) \u5feb\u53d6\u4e2d\u57f7\u884c\u3002\u6b64\u5354\u540c\u8655\u7406\u5668\u6703\u91dd\u5c0d\u5feb\u53d6\u9032\u884c\u64f4\u5145\uff0c\u52a0\u5165\u4e00\u7d44\u6f5b\u5728\u5d4c\u5165\uff0c\u4ee5\u63d0\u5347\u5f8c\u7e8c\u89e3\u78bc\u7684\u4fdd\u771f\u5ea6\u3002\u6211\u5011\u4f7f\u7528\u89e3\u78bc\u5668\u4e2d\u4f86\u81ea\u6a19\u6e96\u9810\u8a13\u7df4\u8cc7\u6599\u7684\u8a9e\u8a00\u6a21\u578b\u640d\u5931\u8a13\u7df4\u6b64\u5354\u540c\u8655\u7406\u5668\uff0c\u540c\u6642\u4fdd\u6301\u89e3\u78bc\u5668\u672c\u8eab\u8655\u65bc\u51cd\u7d50\u72c0\u614b\u3002\u6b64\u65b9\u6cd5\u8b93\u6a21\u578b\u80fd\u5920\u4ee5\u7aef\u5230\u7aef\u53ef\u5fae\u5206\u7684\u65b9\u5f0f\u5b78\u7fd2\uff0c\u5982\u4f55\u5c07\u984d\u5916\u7684\u904b\u7b97\u7d0d\u5165\u5176 kv \u5feb\u53d6\u4e2d\u3002\u7531\u65bc\u89e3\u78bc\u5668\u4fdd\u6301\u4e0d\u8b8a\uff0c\u56e0\u6b64\u5354\u540c\u8655\u7406\u5668\u53ef\u4ee5\u5728\u96e2\u7dda\u548c\u975e\u540c\u6b65\u7684\u60c5\u6cc1\u4e0b\u57f7\u884c\uff0c\u4e14\u5982\u679c\u5354\u540c\u8655\u7406\u5668\u4e0d\u53ef\u7528\u6216\u67d0\u500b\u5feb\u53d6\u88ab\u8a8d\u70ba\u4e0d\u9700\u8981\u984d\u5916\u904b\u7b97\uff0c\u8a9e\u8a00\u6a21\u578b\u53ef\u4ee5\u6b63\u5e38\u904b\u4f5c\u3002\u6211\u5011\u900f\u904e\u5be6\u9a57\u8b49\u660e\uff0c\u7576\u5feb\u53d6\u7d93\u904e\u64f4\u5145\u6642\uff0c\u89e3\u78bc\u5668\u5728\u5f8c\u7e8c\u7684\u8a31\u591a\u7b26\u865f\u4e0a\u90fd\u80fd\u9054\u5230\u8f03\u4f4e\u7684\u56f0\u60d1\u5ea6\u3002\u6b64\u5916\uff0c\u6211\u5011\u7684\u5be6\u9a57\u8b49\u660e\uff0c\u5373\u4f7f\u6c92\u6709\u4efb\u4f55\u7279\u5b9a\u4efb\u52d9\u7684\u8a13\u7df4\uff0c\u5feb\u53d6\u64f4\u5145\u90fd\u80fd\u6301\u7e8c\u964d\u4f4e\u56f0\u60d1\u5ea6\uff0c\u4e26\u63d0\u5347\u5404\u7a2e\u63a8\u7406\u5bc6\u96c6\u578b\u4efb\u52d9\u7684\u6548\u80fd\u3002", "author": "Luyang Liu et.al.", "authors": "Luyang Liu, Jonas Pfeiffer, Jiaxing Wu, Jun Xie, Arthur Szlam", "id": "2412.17747v1", "paper_url": "http://arxiv.org/abs/2412.17747v1", "repo": "null"}}