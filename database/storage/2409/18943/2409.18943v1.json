{"2409.18943": {"publish_time": "2024-09-27", "title": "Ruler: A Model-Agnostic Method to Control Generated Length for Large Language Models", "paper_summary": "The instruction-following ability of large language models enables humans to\ninteract with AI agents in a natural way. However, when required to generate\nresponses of a specific length, large language models often struggle to meet\nusers' needs due to their inherent difficulty in accurately perceiving\nnumerical constraints. To explore the ability of large language models to\ncontrol the length of generated responses, we propose the Target Length\nGeneration Task (TLG) and design two metrics, Precise Match (PM) and Flexible\nMatch (FM) to evaluate the model's performance in adhering to specified\nresponse lengths. Furthermore, we introduce a novel, model-agnostic approach\ncalled Ruler, which employs Meta Length Tokens (MLTs) to enhance the\ninstruction-following ability of large language models under length-constrained\ninstructions. Specifically, Ruler equips LLMs with the ability to generate\nresponses of a specified length based on length constraints within the\ninstructions. Moreover, Ruler can automatically generate appropriate MLT when\nlength constraints are not explicitly provided, demonstrating excellent\nversatility and generalization. Comprehensive experiments show the\neffectiveness of Ruler across different LLMs on Target Length Generation Task,\ne.g., at All Level 27.97 average gain on PM, 29.57 average gain on FM. In\naddition, we conduct extensive ablation experiments to further substantiate the\nefficacy and generalization of Ruler. Our code and data is available at\nhttps://github.com/Geaming2002/Ruler.", "paper_summary_zh": "\u5927\u578b\u8a9e\u8a00\u6a21\u578b\u7684\u6307\u4ee4\u9075\u5faa\u80fd\u529b\u4f7f\u4eba\u985e\u80fd\u5920\u4ee5\u81ea\u7136\u7684\u65b9\u5f0f\u8207\u4eba\u5de5\u667a\u6167\u4ee3\u7406\u4e92\u52d5\u3002\u7136\u800c\uff0c\u7576\u9700\u8981\u7522\u751f\u7279\u5b9a\u9577\u5ea6\u7684\u56de\u61c9\u6642\uff0c\u5927\u578b\u8a9e\u8a00\u6a21\u578b\u5f80\u5f80\u96e3\u4ee5\u6eff\u8db3\u4f7f\u7528\u8005\u7684\u9700\u6c42\uff0c\u56e0\u70ba\u5b83\u5011\u96e3\u4ee5\u6e96\u78ba\u611f\u77e5\u6578\u503c\u9650\u5236\u3002\u70ba\u4e86\u63a2\u8a0e\u5927\u578b\u8a9e\u8a00\u6a21\u578b\u63a7\u5236\u751f\u6210\u56de\u61c9\u9577\u5ea6\u7684\u80fd\u529b\uff0c\u6211\u5011\u63d0\u51fa\u4e86\u76ee\u6a19\u9577\u5ea6\u751f\u6210\u4efb\u52d9 (TLG)\uff0c\u4e26\u8a2d\u8a08\u4e86\u5169\u500b\u6307\u6a19\uff0c\u7cbe\u78ba\u5339\u914d (PM) \u548c\u9748\u6d3b\u5339\u914d (FM)\uff0c\u4ee5\u8a55\u4f30\u6a21\u578b\u5728\u9075\u5b88\u6307\u5b9a\u56de\u61c9\u9577\u5ea6\u65b9\u9762\u7684\u6548\u80fd\u3002\u6b64\u5916\uff0c\u6211\u5011\u5f15\u5165\u4e86\u4e00\u7a2e\u65b0\u7a4e\u7684\u3001\u8207\u6a21\u578b\u7121\u95dc\u7684\u65b9\u6cd5\uff0c\u7a31\u70ba Ruler\uff0c\u5b83\u63a1\u7528\u5143\u9577\u5ea6\u6a19\u8a18 (MLT) \u4f86\u589e\u5f37\u5927\u578b\u8a9e\u8a00\u6a21\u578b\u5728\u9577\u5ea6\u53d7\u9650\u6307\u4ee4\u4e0b\u7684\u6307\u4ee4\u9075\u5faa\u80fd\u529b\u3002\u5177\u9ad4\u4f86\u8aaa\uff0cRuler \u8ce6\u4e88 LLM \u6839\u64da\u6307\u4ee4\u4e2d\u7684\u9577\u5ea6\u7d04\u675f\u751f\u6210\u6307\u5b9a\u9577\u5ea6\u56de\u61c9\u7684\u80fd\u529b\u3002\u6b64\u5916\uff0c\u7576\u672a\u660e\u78ba\u63d0\u4f9b\u9577\u5ea6\u7d04\u675f\u6642\uff0cRuler \u53ef\u4ee5\u81ea\u52d5\u751f\u6210\u9069\u7576\u7684 MLT\uff0c\u5c55\u793a\u51fa\u51fa\u8272\u7684\u901a\u7528\u6027\u548c\u6982\u62ec\u6027\u3002\u5168\u9762\u7684\u5be6\u9a57\u986f\u793a\u4e86 Ruler \u5728\u76ee\u6a19\u9577\u5ea6\u751f\u6210\u4efb\u52d9\u4e2d\u8de8\u4e0d\u540c LLM \u7684\u6709\u6548\u6027\uff0c\u4f8b\u5982\uff0c\u5728\u6240\u6709\u7d1a\u5225\u4e0a PM \u5e73\u5747\u589e\u76ca 27.97\uff0cFM \u5e73\u5747\u589e\u76ca 29.57\u3002\u6b64\u5916\uff0c\u6211\u5011\u9032\u884c\u4e86\u5ee3\u6cdb\u7684\u6d88\u878d\u5be6\u9a57\uff0c\u4ee5\u9032\u4e00\u6b65\u8b49\u5be6 Ruler \u7684\u6548\u80fd\u548c\u6982\u62ec\u6027\u3002\u6211\u5011\u7684\u7a0b\u5f0f\u78bc\u548c\u8cc7\u6599\u53ef\u5728 https://github.com/Geaming2002/Ruler \u53d6\u5f97\u3002", "author": "Jiaming Li et.al.", "authors": "Jiaming Li, Lei Zhang, Yunshui Li, Ziqiang Liu, yuelin bai, Run Luo, Longze Chen, Min Yang", "id": "2409.18943v1", "paper_url": "http://arxiv.org/abs/2409.18943v1", "repo": "https://github.com/geaming2002/ruler"}}