{"2502.02494": {"publish_time": "2025-02-04", "title": "Analyzing Similarity Metrics for Data Selection for Language Model Pretraining", "paper_summary": "Similarity between training examples is used to curate pretraining datasets\nfor language models by many methods -- for diversification and to select\nexamples similar to high-quality data. However, similarity is typically\nmeasured with off-the-shelf embedding models that are generic or trained for\ntasks such as retrieval. This paper introduces a framework to analyze the\nsuitability of embedding models specifically for data curation in the language\nmodel pretraining setting. We quantify the correlation between similarity in\nthe embedding space to similarity in pretraining loss between different\ntraining examples, and how diversifying in the embedding space affects\npretraining quality. We analyze a variety of embedding models in our framework,\nwith experiments using the Pile dataset for pretraining a 1.7B parameter\ndecoder-only language model. We find that the embedding models we consider are\nall useful for pretraining data curation. Moreover, a simple approach of\naveraging per-token embeddings proves to be surprisingly competitive with more\nsophisticated embedding models -- likely because the latter are not designed\nspecifically for pretraining data curation. Indeed, we believe our analysis and\nevaluation framework can serve as a foundation for the design of embedding\nmodels that specifically reason about similarity in pretraining datasets.", "paper_summary_zh": "\u8a31\u591a\u65b9\u6cd5\u4f7f\u7528\u8a13\u7df4\u7bc4\u4f8b\u4e4b\u9593\u7684\u76f8\u4f3c\u6027\u4f86\u7b56\u5c55\u8a9e\u8a00\u6a21\u578b\u7684\u9810\u8a13\u7df4\u8cc7\u6599\u96c6\uff0c\u4ee5\u9032\u884c\u591a\u6a23\u5316\u548c\u9078\u64c7\u8207\u9ad8\u54c1\u8cea\u8cc7\u6599\u985e\u4f3c\u7684\u7bc4\u4f8b\u3002\u7136\u800c\uff0c\u76f8\u4f3c\u6027\u901a\u5e38\u4f7f\u7528\u73fe\u6210\u7684\u5d4c\u5165\u6a21\u578b\u4f86\u8861\u91cf\uff0c\u9019\u4e9b\u6a21\u578b\u662f\u901a\u7528\u7684\uff0c\u6216\u8005\u91dd\u5c0d\u6aa2\u7d22\u7b49\u4efb\u52d9\u9032\u884c\u8a13\u7df4\u3002\u672c\u6587\u4ecb\u7d39\u4e86\u4e00\u500b\u6846\u67b6\uff0c\u7528\u65bc\u5206\u6790\u5d4c\u5165\u6a21\u578b\u7279\u5225\u9069\u7528\u65bc\u8a9e\u8a00\u6a21\u578b\u9810\u8a13\u7df4\u8a2d\u5b9a\u4e2d\u7684\u8cc7\u6599\u7b56\u5c55\u3002\u6211\u5011\u91cf\u5316\u4e86\u5d4c\u5165\u7a7a\u9593\u4e2d\u7684\u76f8\u4f3c\u6027\u8207\u4e0d\u540c\u8a13\u7df4\u7bc4\u4f8b\u4e4b\u9593\u9810\u8a13\u7df4\u640d\u5931\u4e2d\u7684\u76f8\u4f3c\u6027\u4e4b\u9593\u7684\u95dc\u806f\u6027\uff0c\u4ee5\u53ca\u5d4c\u5165\u7a7a\u9593\u4e2d\u7684\u591a\u6a23\u5316\u5982\u4f55\u5f71\u97ff\u9810\u8a13\u7df4\u54c1\u8cea\u3002\u6211\u5011\u5728\u6211\u5011\u7684\u6846\u67b6\u4e2d\u5206\u6790\u4e86\u5404\u7a2e\u5d4c\u5165\u6a21\u578b\uff0c\u4e26\u4f7f\u7528 Pile \u8cc7\u6599\u96c6\u9032\u884c\u5be6\u9a57\uff0c\u4ee5\u9810\u8a13\u7df4 1.7B \u53c3\u6578\u7684\u50c5\u89e3\u78bc\u5668\u8a9e\u8a00\u6a21\u578b\u3002\u6211\u5011\u767c\u73fe\u6211\u5011\u8003\u616e\u7684\u5d4c\u5165\u6a21\u578b\u90fd\u5c0d\u9810\u8a13\u7df4\u8cc7\u6599\u7b56\u5c55\u5f88\u6709\u7528\u3002\u6b64\u5916\uff0c\u4e00\u500b\u7c21\u55ae\u7684\u5e73\u5747\u6bcf\u500b\u7b26\u865f\u5d4c\u5165\u7684\u65b9\u6cd5\u8b49\u660e\u8207\u66f4\u7cbe\u5bc6\u7684\u5d4c\u5165\u6a21\u578b\u5177\u6709\u4ee4\u4eba\u9a5a\u8a1d\u7684\u7af6\u722d\u529b\u2014\u2014\u9019\u53ef\u80fd\u662f\u56e0\u70ba\u5f8c\u8005\u4e26\u975e\u5c08\u9580\u70ba\u9810\u8a13\u7df4\u8cc7\u6599\u7b56\u5c55\u800c\u8a2d\u8a08\u3002\u4e8b\u5be6\u4e0a\uff0c\u6211\u5011\u76f8\u4fe1\u6211\u5011\u7684\u5206\u6790\u548c\u8a55\u4f30\u6846\u67b6\u53ef\u4ee5\u4f5c\u70ba\u5d4c\u5165\u6a21\u578b\u8a2d\u8a08\u7684\u57fa\u790e\uff0c\u7279\u5225\u662f\u91dd\u5c0d\u9810\u8a13\u7df4\u8cc7\u6599\u96c6\u4e2d\u7684\u76f8\u4f3c\u6027\u9032\u884c\u63a8\u7406\u3002", "author": "Dylan Sam et.al.", "authors": "Dylan Sam, Ayan Chakrabarti, Afshin Rostamizadeh, Srikumar Ramalingam, Gui Citovsky, Sanjiv Kumar", "id": "2502.02494v1", "paper_url": "http://arxiv.org/abs/2502.02494v1", "repo": "null"}}