{"2410.04715": {"publish_time": "2024-10-07", "title": "Rule-based Data Selection for Large Language Models", "paper_summary": "The quality of training data significantly impacts the performance of large\nlanguage models (LLMs). There are increasing studies using LLMs to rate and\nselect data based on several human-crafted metrics (rules). However, these\nconventional rule-based approaches often depend too heavily on human\nheuristics, lack effective metrics for assessing rules, and exhibit limited\nadaptability to new tasks. In our study, we introduce an innovative rule-based\nframework that utilizes the orthogonality of score vectors associated with\nrules as a novel metric for rule evaluations. Our approach includes an\nautomated pipeline that first uses LLMs to generate a diverse set of rules,\nencompassing various rating dimensions to evaluate data quality. Then it rates\na batch of data based on these rules and uses the determinantal point process\n(DPP) from random matrix theory to select the most orthogonal score vectors,\nthereby identifying a set of independent rules. These rules are subsequently\nused to evaluate all data, selecting samples with the highest average scores\nfor downstream tasks such as LLM training. We verify the effectiveness of our\nmethod through two experimental setups: 1) comparisons with ground truth\nratings and 2) benchmarking LLMs trained with the chosen data. Our\ncomprehensive experiments cover a range of scenarios, including general\npre-training and domain-specific fine-tuning in areas such as IMDB, Medical,\nMath, and Code. The outcomes demonstrate that our DPP-based rule rating method\nconsistently outperforms other approaches, including rule-free rating, uniform\nsampling, importance resampling, and QuRating, in terms of both rating\nprecision and model performance.", "paper_summary_zh": "\u8a13\u7df4\u8cc7\u6599\u7684\u54c1\u8cea\u6703\u986f\u8457\u5f71\u97ff\u5927\u578b\u8a9e\u8a00\u6a21\u578b (LLM) \u7684\u6548\u80fd\u3002\u6709\u6108\u4f86\u6108\u591a\u7814\u7a76\u4f7f\u7528 LLM \u4f86\u8a55\u5206\u4e26\u6839\u64da\u591a\u9805\u4eba\u70ba\u5efa\u7acb\u7684\u6307\u6a19 (\u898f\u5247) \u9078\u64c7\u8cc7\u6599\u3002\u7136\u800c\uff0c\u9019\u4e9b\u50b3\u7d71\u7684\u57fa\u65bc\u898f\u5247\u7684\u65b9\u6cd5\u901a\u5e38\u904e\u5ea6\u4f9d\u8cf4\u4eba\u985e\u7684\u555f\u767c\u6cd5\uff0c\u7f3a\u4e4f\u8a55\u4f30\u898f\u5247\u7684\u6709\u6548\u6307\u6a19\uff0c\u4e14\u5728\u9069\u61c9\u65b0\u4efb\u52d9\u65b9\u9762\u5c55\u73fe\u51fa\u6709\u9650\u7684\u9748\u6d3b\u6027\u3002\u5728\u6211\u5011\u7684\u7814\u7a76\u4e2d\uff0c\u6211\u5011\u5f15\u9032\u4e00\u500b\u5275\u65b0\u7684\u57fa\u65bc\u898f\u5247\u7684\u67b6\u69cb\uff0c\u5b83\u5229\u7528\u8207\u898f\u5247\u76f8\u95dc\u806f\u7684\u5206\u6578\u5411\u91cf\u7684\u6b63\u4ea4\u6027\u4f5c\u70ba\u898f\u5247\u8a55\u4f30\u7684\u65b0\u6307\u6a19\u3002\u6211\u5011\u7684\u505a\u6cd5\u5305\u62ec\u4e00\u500b\u81ea\u52d5\u5316\u6d41\u7a0b\uff0c\u8a72\u6d41\u7a0b\u9996\u5148\u4f7f\u7528 LLM \u7522\u751f\u4e00\u7d44\u591a\u6a23\u5316\u7684\u898f\u5247\uff0c\u6db5\u84cb\u5404\u7a2e\u8a55\u5206\u9762\u5411\u4ee5\u8a55\u4f30\u8cc7\u6599\u54c1\u8cea\u3002\u63a5\u8457\uff0c\u5b83\u6839\u64da\u9019\u4e9b\u898f\u5247\u8a55\u5206\u4e00\u6279\u8cc7\u6599\uff0c\u4e26\u4f7f\u7528\u96a8\u6a5f\u77e9\u9663\u7406\u8ad6\u4e2d\u7684\u884c\u5217\u5f0f\u9ede\u904e\u7a0b (DPP) \u4f86\u9078\u51fa\u6700\u6b63\u4ea4\u7684\u5206\u6578\u5411\u91cf\uff0c\u5f9e\u800c\u627e\u51fa\u7368\u7acb\u898f\u5247\u7684\u96c6\u5408\u3002\u9019\u4e9b\u898f\u5247\u96a8\u5f8c\u7528\u65bc\u8a55\u4f30\u6240\u6709\u8cc7\u6599\uff0c\u91dd\u5c0d\u4e0b\u6e38\u4efb\u52d9\uff08\u4f8b\u5982 LLM \u8a13\u7df4\uff09\u9078\u51fa\u5e73\u5747\u5206\u6578\u6700\u9ad8\u7684\u6a23\u672c\u3002\u6211\u5011\u900f\u904e\u5169\u500b\u5be6\u9a57\u8a2d\u5b9a\u9a57\u8b49\u6211\u5011\u65b9\u6cd5\u7684\u6709\u6548\u6027\uff1a1) \u8207\u771f\u5be6\u8a55\u5206\u9032\u884c\u6bd4\u8f03\uff0c\u4ee5\u53ca 2) \u5c0d\u4f7f\u7528\u6240\u9078\u8cc7\u6599\u8a13\u7df4\u7684 LLM \u9032\u884c\u57fa\u6e96\u6e2c\u8a66\u3002\u6211\u5011\u5168\u9762\u7684\u5be6\u9a57\u6db5\u84cb\u4e00\u7cfb\u5217\u60c5\u5883\uff0c\u5305\u62ec\u5728 IMDB\u3001\u91ab\u5b78\u3001\u6578\u5b78\u548c\u7a0b\u5f0f\u78bc\u7b49\u9818\u57df\u7684\u4e00\u822c\u9810\u8a13\u7df4\u548c\u7279\u5b9a\u9818\u57df\u7684\u5fae\u8abf\u3002\u7d50\u679c\u986f\u793a\uff0c\u6211\u5011\u7684\u57fa\u65bc DPP \u7684\u898f\u5247\u8a55\u5206\u65b9\u6cd5\u5728\u8a55\u5206\u7cbe\u6e96\u5ea6\u548c\u6a21\u578b\u6548\u80fd\u65b9\u9762\u59cb\u7d42\u512a\u65bc\u5176\u4ed6\u65b9\u6cd5\uff0c\u5305\u62ec\u7121\u898f\u5247\u8a55\u5206\u3001\u5747\u52fb\u62bd\u6a23\u3001\u91cd\u8981\u6027\u518d\u62bd\u6a23\u548c QuRating\u3002", "author": "Xiaomin Li et.al.", "authors": "Xiaomin Li, Mingye Gao, Zhiwei Zhang, Chang Yue, Hong Hu", "id": "2410.04715v1", "paper_url": "http://arxiv.org/abs/2410.04715v1", "repo": "null"}}