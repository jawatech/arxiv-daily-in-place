{"2408.11721": {"publish_time": "2024-08-21", "title": "Iterative Object Count Optimization for Text-to-image Diffusion Models", "paper_summary": "We address a persistent challenge in text-to-image models: accurately\ngenerating a specified number of objects. Current models, which learn from\nimage-text pairs, inherently struggle with counting, as training data cannot\ndepict every possible number of objects for any given object. To solve this, we\npropose optimizing the generated image based on a counting loss derived from a\ncounting model that aggregates an object\\'s potential. Employing an\nout-of-the-box counting model is challenging for two reasons: first, the model\nrequires a scaling hyperparameter for the potential aggregation that varies\ndepending on the viewpoint of the objects, and second, classifier guidance\ntechniques require modified models that operate on noisy intermediate diffusion\nsteps. To address these challenges, we propose an iterated online training mode\nthat improves the accuracy of inferred images while altering the text\nconditioning embedding and dynamically adjusting hyperparameters. Our method\noffers three key advantages: (i) it can consider non-derivable counting\ntechniques based on detection models, (ii) it is a zero-shot plug-and-play\nsolution facilitating rapid changes to the counting techniques and image\ngeneration methods, and (iii) the optimized counting token can be reused to\ngenerate accurate images without additional optimization. We evaluate the\ngeneration of various objects and show significant improvements in accuracy.\nThe project page is available at https://ozzafar.github.io/count_token.", "paper_summary_zh": "<paragraph>\u6211\u5011\u89e3\u6c7a\u4e86\u6587\u5b57\u8f49\u5716\u50cf\u6a21\u578b\u4e2d\u4e00\u500b\u6301\u7e8c\u7684\u6311\u6230\uff1a\u6e96\u78ba\u751f\u6210\u6307\u5b9a\u6578\u91cf\u7684\u7269\u4ef6\u3002\u76ee\u524d\u7684\u6a21\u578b\u5f9e\u5f71\u50cf\u6587\u5b57\u5c0d\u5b78\u7fd2\uff0c\u5728\u8a08\u7b97\u4e0a\u672c\u8cea\u4e0a\u6703\u9047\u5230\u56f0\u96e3\uff0c\u56e0\u70ba\u8a13\u7df4\u8cc7\u6599\u7121\u6cd5\u63cf\u7e6a\u4efb\u4f55\u7d66\u5b9a\u7269\u4ef6\u7684\u6240\u6709\u53ef\u80fd\u6578\u91cf\u3002\u70ba\u4e86\u89e3\u6c7a\u9019\u500b\u554f\u984c\uff0c\u6211\u5011\u5efa\u8b70\u6839\u64da\u5f9e\u805a\u5408\u7269\u4ef6\u6f5b\u529b\u7684\u8a08\u6578\u6a21\u578b\u884d\u751f\u7684\u8a08\u6578\u640d\u5931\u4f86\u6700\u4f73\u5316\u751f\u6210\u7684\u5f71\u50cf\u3002\u63a1\u7528\u73fe\u6210\u7684\u8a08\u6578\u6a21\u578b\u5177\u6709\u5169\u500b\u6311\u6230\uff1a\u9996\u5148\uff0c\u8a72\u6a21\u578b\u9700\u8981\u4e00\u500b\u7e2e\u653e\u8d85\u53c3\u6578\uff0c\u7528\u65bc\u6f5b\u529b\u805a\u5408\uff0c\u8a72\u8d85\u53c3\u6578\u6703\u6839\u64da\u7269\u4ef6\u7684\u89c0\u9ede\u800c\u6709\u6240\u4e0d\u540c\uff1b\u5176\u6b21\uff0c\u5206\u985e\u5668\u5f15\u5c0e\u6280\u8853\u9700\u8981\u4fee\u6539\u6a21\u578b\uff0c\u9019\u4e9b\u6a21\u578b\u6703\u5c0d\u6709\u96dc\u8a0a\u7684\u4e2d\u9593\u64f4\u6563\u6b65\u9a5f\u9032\u884c\u64cd\u4f5c\u3002\u70ba\u4e86\u61c9\u5c0d\u9019\u4e9b\u6311\u6230\uff0c\u6211\u5011\u63d0\u51fa\u4e86\u4e00\u7a2e\u53cd\u8986\u7684\u7dda\u4e0a\u8a13\u7df4\u6a21\u5f0f\uff0c\u8a72\u6a21\u5f0f\u5728\u6539\u8b8a\u6587\u5b57\u689d\u4ef6\u5d4c\u5165\u548c\u52d5\u614b\u8abf\u6574\u8d85\u53c3\u6578\u7684\u540c\u6642\uff0c\u63d0\u5347\u4e86\u63a8\u8ad6\u5f71\u50cf\u7684\u6e96\u78ba\u5ea6\u3002\u6211\u5011\u7684\u6a21\u578b\u63d0\u4f9b\u4e09\u500b\u4e3b\u8981\u512a\u9ede\uff1a(i) \u5b83\u53ef\u4ee5\u8003\u616e\u57fa\u65bc\u5075\u6e2c\u6a21\u578b\u7684\u4e0d\u53ef\u5c0e\u51fa\u8a08\u6578\u6280\u8853\uff0c(ii) \u5b83\u662f\u4e00\u7a2e\u96f6\u6b21\u5b78\u7fd2\u7684\u5373\u63d2\u5373\u7528\u89e3\u6c7a\u65b9\u6848\uff0c\u6709\u52a9\u65bc\u5feb\u901f\u8b8a\u66f4\u8a08\u6578\u6280\u8853\u548c\u5f71\u50cf\u751f\u6210\u65b9\u6cd5\uff0c\u4ee5\u53ca (iii) \u6700\u4f73\u5316\u7684\u8a08\u6578\u4ee3\u5e63\u53ef\u4ee5\u91cd\u8907\u4f7f\u7528\uff0c\u4ee5\u5728\u6c92\u6709\u984d\u5916\u6700\u4f73\u5316\u7684\u60c5\u6cc1\u4e0b\u751f\u6210\u6e96\u78ba\u7684\u5f71\u50cf\u3002\u6211\u5011\u8a55\u4f30\u4e86\u5404\u7a2e\u7269\u4ef6\u7684\u751f\u6210\uff0c\u4e26\u5c55\u793a\u4e86\u6e96\u78ba\u5ea6\u7684\u986f\u8457\u63d0\u5347\u3002\u5c08\u6848\u9801\u9762\u53ef\u65bc https://ozzafar.github.io/count_token \u53d6\u5f97\u3002</paragraph>", "author": "Oz Zafar et.al.", "authors": "Oz Zafar, Lior Wolf, Idan Schwartz", "id": "2408.11721v1", "paper_url": "http://arxiv.org/abs/2408.11721v1", "repo": "null"}}