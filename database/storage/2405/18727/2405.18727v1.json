{"2405.18727": {"publish_time": "2024-05-29", "title": "CtrlA: Adaptive Retrieval-Augmented Generation via Probe-Guided Control", "paper_summary": "Retrieval-augmented generation (RAG) has emerged as a promising solution for\nmitigating hallucinations of large language models (LLMs) with retrieved\nexternal knowledge. Adaptive RAG enhances this approach by dynamically\nassessing the retrieval necessity, aiming to balance external and internal\nknowledge usage. However, existing adaptive RAG methods primarily realize\nretrieval on demand by relying on superficially verbalize-based or\nprobability-based feedback of LLMs, or directly fine-tuning LLMs via carefully\ncrafted datasets, resulting in unreliable retrieval necessity decisions, heavy\nextra costs, and sub-optimal response generation. We present the first attempts\nto delve into the internal states of LLMs to mitigate such issues by\nintroducing an effective probe-guided adaptive RAG framework, termed CtrlA.\nSpecifically, CtrlA employs an honesty probe to regulate the LLM's behavior by\nmanipulating its representations for increased honesty, and a confidence probe\nto monitor the internal states of LLM and assess confidence levels, determining\nthe retrieval necessity during generation. Experiments show that CtrlA is\nsuperior to existing adaptive RAG methods on a diverse set of tasks, the\nhonesty control can effectively make LLMs more honest and confidence monitoring\nis proven to be a promising indicator of retrieval trigger. Our codes are\navailable at https://github.com/HSLiu-Initial/CtrlA.git.", "paper_summary_zh": "\u6aa2\u7d22\u589e\u5f37\u751f\u6210\uff08RAG\uff09\u5df2\u6210\u70ba\u4e00\u7a2e\u6709\u524d\u9014\u7684\u89e3\u6c7a\u65b9\u6848\uff0c\u53ef\u900f\u904e\u6aa2\u7d22\u7684\u5916\u90e8\u77e5\u8b58\u4f86\u6e1b\u8f15\u5927\u578b\u8a9e\u8a00\u6a21\u578b\uff08LLM\uff09\u7684\u5e7b\u89ba\u3002\u81ea\u9069\u61c9 RAG \u900f\u904e\u52d5\u614b\u8a55\u4f30\u6aa2\u7d22\u5fc5\u8981\u6027\u4f86\u589e\u5f37\u6b64\u65b9\u6cd5\uff0c\u65e8\u5728\u5e73\u8861\u5916\u90e8\u548c\u5167\u90e8\u77e5\u8b58\u7684\u4f7f\u7528\u3002\u7136\u800c\uff0c\u73fe\u6709\u7684\u81ea\u9069\u61c9 RAG \u65b9\u6cd5\u4e3b\u8981\u900f\u904e\u4f9d\u8cf4 LLM \u7684\u8868\u9762\u8a00\u8a9e\u5316\u6216\u57fa\u65bc\u6a5f\u7387\u7684\u56de\u994b\u4f86\u4f9d\u9700\u6c42\u9032\u884c\u6aa2\u7d22\uff0c\u6216\u900f\u904e\u7cbe\u5fc3\u88fd\u4f5c\u7684\u8cc7\u6599\u96c6\u76f4\u63a5\u5fae\u8abf LLM\uff0c\u5c0e\u81f4\u4e0d\u53ef\u9760\u7684\u6aa2\u7d22\u5fc5\u8981\u6027\u6c7a\u7b56\u3001\u9f90\u5927\u7684\u984d\u5916\u6210\u672c\u548c\u6b21\u4f73\u7684\u56de\u61c9\u7522\u751f\u3002\u6211\u5011\u63d0\u51fa\u9996\u6b21\u5617\u8a66\u6df1\u5165\u63a2\u8a0e LLM \u7684\u5167\u90e8\u72c0\u614b\uff0c\u4ee5\u900f\u904e\u5f15\u9032\u7a31\u70ba CtrlA \u7684\u6709\u6548\u63a2\u91dd\u5c0e\u5f15\u81ea\u9069\u61c9 RAG \u67b6\u69cb\u4f86\u6e1b\u8f15\u6b64\u985e\u554f\u984c\u3002\u5177\u9ad4\u4f86\u8aaa\uff0cCtrlA \u4f7f\u7528\u8aa0\u5be6\u63a2\u91dd\u900f\u904e\u8abf\u6574 LLM \u7684\u8868\u793a\u4f86\u898f\u7bc4\u5176\u884c\u70ba\uff0c\u4ee5\u63d0\u9ad8\u8aa0\u5be6\u5ea6\uff0c\u4e26\u4f7f\u7528\u4fe1\u5fc3\u63a2\u91dd\u4f86\u76e3\u63a7 LLM \u7684\u5167\u90e8\u72c0\u614b\u548c\u8a55\u4f30\u4fe1\u5fc3\u5c64\u7d1a\uff0c\u9032\u800c\u6c7a\u5b9a\u751f\u6210\u671f\u9593\u7684\u6aa2\u7d22\u5fc5\u8981\u6027\u3002\u5be6\u9a57\u986f\u793a\uff0cCtrlA \u5728\u5404\u7a2e\u4efb\u52d9\u4e0a\u90fd\u512a\u65bc\u73fe\u6709\u7684\u81ea\u9069\u61c9 RAG \u65b9\u6cd5\uff0c\u8aa0\u5be6\u63a7\u5236\u53ef\u4ee5\u6709\u6548\u8b93 LLM \u66f4\u52a0\u8aa0\u5be6\uff0c\u800c\u4fe1\u5fc3\u76e3\u63a7\u5df2\u88ab\u8b49\u660e\u662f\u6aa2\u7d22\u89f8\u767c\u7684\u6709\u524d\u9014\u6307\u6a19\u3002\u6211\u5011\u7684\u7a0b\u5f0f\u78bc\u53ef\u5728 https://github.com/HSLiu-Initial/CtrlA.git \u53d6\u5f97\u3002", "author": "Huanshuo Liu et.al.", "authors": "Huanshuo Liu, Hao Zhang, Zhijiang Guo, Kuicai Dong, Xiangyang Li, Yi Quan Lee, Cong Zhang, Yong Liu", "id": "2405.18727v1", "paper_url": "http://arxiv.org/abs/2405.18727v1", "repo": "https://github.com/hsliu-initial/ctrla"}}