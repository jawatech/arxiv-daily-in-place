{"2502.03438": {"publish_time": "2025-02-05", "title": "BFS-Prover: Scalable Best-First Tree Search for LLM-based Automatic Theorem Proving", "paper_summary": "Recent advancements in large language models (LLMs) have spurred growing\ninterest in automatic theorem proving using Lean4, where effective tree search\nmethods are crucial for navigating proof search spaces. While the existing\napproaches primarily rely on value functions and Monte Carlo Tree Search\n(MCTS), the potential of simpler methods like Best-First Search (BFS) remains\nunderexplored. This paper investigates whether BFS can achieve competitive\nperformance in large-scale theorem proving tasks. We present\n\\texttt{BFS-Prover}, a scalable expert iteration framework, featuring three key\ninnovations. First, we implement strategic data filtering at each expert\niteration round, excluding problems solvable via beam search node expansion to\nfocus on harder cases. Second, we improve the sample efficiency of BFS through\nDirect Preference Optimization (DPO) applied to state-tactic pairs\nautomatically annotated with compiler error feedback, refining the LLM's policy\nto prioritize productive expansions. Third, we employ length normalization in\nBFS to encourage exploration of deeper proof paths. \\texttt{BFS-Prover}\nachieves a score of $71.31$ on the MiniF2F test set and therefore challenges\nthe perceived necessity of complex tree search methods, demonstrating that BFS\ncan achieve competitive performance when properly scaled.", "paper_summary_zh": "\u6700\u8fd1\u5728\u5927\u578b\u8bed\u8a00\u6a21\u578b (LLM) \u4e0a\u7684\u8fdb\u5c55\u6fc0\u53d1\u4e86\u4eba\u4eec\u5bf9\u4f7f\u7528 Lean4 \u8fdb\u884c\u81ea\u52a8\u5b9a\u7406\u8bc1\u660e\u7684\u5174\u8da3\uff0c\u5176\u4e2d\u6709\u6548\u7684\u6811\u641c\u7d22\u65b9\u6cd5\u5bf9\u4e8e\u5bfc\u822a\u8bc1\u660e\u641c\u7d22\u7a7a\u95f4\u81f3\u5173\u91cd\u8981\u3002\u867d\u7136\u73b0\u6709\u65b9\u6cd5\u4e3b\u8981\u4f9d\u8d56\u4e8e\u503c\u51fd\u6570\u548c\u8499\u7279\u5361\u7f57\u6811\u641c\u7d22 (MCTS)\uff0c\u4f46\u50cf\u6700\u4f73\u4f18\u5148\u641c\u7d22 (BFS) \u8fd9\u6837\u66f4\u7b80\u5355\u7684\u65b9\u6cd5\u7684\u6f5c\u529b\u4ecd\u7136\u6ca1\u6709\u5f97\u5230\u5145\u5206\u63a2\u7d22\u3002\u672c\u6587\u7814\u7a76\u4e86 BFS \u662f\u5426\u53ef\u4ee5\u5728\u5927\u89c4\u6a21\u5b9a\u7406\u8bc1\u660e\u4efb\u52a1\u4e2d\u5b9e\u73b0\u6709\u7ade\u4e89\u529b\u7684\u6027\u80fd\u3002\u6211\u4eec\u5c55\u793a\u4e86\\texttt{BFS-Prover}\uff0c\u4e00\u4e2a\u53ef\u6269\u5c55\u7684\u4e13\u5bb6\u8fed\u4ee3\u6846\u67b6\uff0c\u5177\u6709\u4e09\u4e2a\u5173\u952e\u521b\u65b0\u3002\u9996\u5148\uff0c\u6211\u4eec\u5728\u6bcf\u6b21\u4e13\u5bb6\u8fed\u4ee3\u56de\u5408\u4e2d\u5b9e\u65bd\u6218\u7565\u6570\u636e\u8fc7\u6ee4\uff0c\u6392\u9664\u53ef\u4ee5\u901a\u8fc7\u6ce2\u675f\u641c\u7d22\u8282\u70b9\u6269\u5c55\u6765\u89e3\u51b3\u7684\u95ee\u9898\uff0c\u4ee5\u4e13\u6ce8\u4e8e\u66f4\u56f0\u96be\u7684\u60c5\u51b5\u3002\u5176\u6b21\uff0c\u6211\u4eec\u901a\u8fc7\u76f4\u63a5\u504f\u597d\u4f18\u5316 (DPO) \u63d0\u9ad8\u4e86 BFS \u7684\u6837\u672c\u6548\u7387\uff0c\u8be5\u4f18\u5316\u5e94\u7528\u4e8e\u81ea\u52a8\u6ce8\u91ca\u6709\u7f16\u8bd1\u5668\u9519\u8bef\u53cd\u9988\u7684\u72b6\u6001\u7b56\u7565\u5bf9\uff0c\u4ee5\u4f18\u5316 LLM \u7684\u7b56\u7565\u4ee5\u4f18\u5148\u8003\u8651\u5bcc\u6709\u6210\u6548\u7684\u6269\u5c55\u3002\u7b2c\u4e09\uff0c\u6211\u4eec\u5728 BFS \u4e2d\u91c7\u7528\u957f\u5ea6\u5f52\u4e00\u5316\u6765\u9f13\u52b1\u63a2\u7d22\u66f4\u6df1\u5165\u7684\u8bc1\u660e\u8def\u5f84\u3002\\texttt{BFS-Prover}\u5728 MiniF2F \u6d4b\u8bd5\u96c6\u4e2d\u83b7\u5f97\u4e86 $71.31$ \u7684\u5206\u6570\uff0c\u56e0\u6b64\u5bf9\u590d\u6742\u6811\u641c\u7d22\u65b9\u6cd5\u7684\u5fc5\u8981\u6027\u63d0\u51fa\u4e86\u8d28\u7591\uff0c\u8bc1\u660e\u4e86\u5728\u9002\u5f53\u6269\u5c55\u65f6 BFS \u53ef\u4ee5\u5b9e\u73b0\u6709\u7ade\u4e89\u529b\u7684\u6027\u80fd\u3002", "author": "Ran Xin et.al.", "authors": "Ran Xin, Chenguang Xi, Jie Yang, Feng Chen, Hang Wu, Xia Xiao, Yifan Sun, Shen Zheng, Kai Shen", "id": "2502.03438v1", "paper_url": "http://arxiv.org/abs/2502.03438v1", "repo": "null"}}