{"2502.14682": {"publish_time": "2025-02-20", "title": "Bridging the Gap: Transforming Natural Language Questions into SQL Queries via Abstract Query Pattern and Contextual Schema Markup", "paper_summary": "Large language models have demonstrated excellent performance in many tasks,\nincluding Text-to-SQL, due to their powerful in-context learning capabilities.\nThey are becoming the mainstream approach for Text-to-SQL. However, these\nmethods still have a significant gap compared to human performance, especially\non complex questions. As the complexity of questions increases, the gap between\nquestions and SQLs increases. We identify two important gaps: the structural\nmapping gap and the lexical mapping gap. To tackle these two gaps, we propose\nPAS-SQL, an efficient SQL generation pipeline based on LLMs, which alleviates\ngaps through Abstract Query Pattern (AQP) and Contextual Schema Markup (CSM).\nAQP aims to obtain the structural pattern of the question by removing\ndatabase-related information, which enables us to find structurally similar\ndemonstrations. CSM aims to associate database-related text span in the\nquestion with specific tables or columns in the database, which alleviates the\nlexical mapping gap. Experimental results on the Spider and BIRD datasets\ndemonstrate the effectiveness of our proposed method. Specifically, PAS-SQL +\nGPT-4o sets a new state-of-the-art on the Spider benchmark with an execution\naccuracy of 87.9\\%, and achieves leading results on the BIRD dataset with an\nexecution accuracy of 64.67\\%.", "paper_summary_zh": "\u5927\u578b\u8a9e\u8a00\u6a21\u578b\u5728\u8a31\u591a\u4efb\u52d9\u4e2d\u8868\u73fe\u51fa\u8272\uff0c\u5305\u62ec\u6587\u5b57\u8f49 SQL\uff0c\u9019\u6b78\u529f\u65bc\u5b83\u5011\u5f37\u5927\u7684\u60c5\u5883\u5b78\u7fd2\u80fd\u529b\u3002\u5b83\u5011\u6b63\u6210\u70ba\u6587\u5b57\u8f49 SQL \u7684\u4e3b\u6d41\u65b9\u6cd5\u3002\u7136\u800c\uff0c\u9019\u4e9b\u65b9\u6cd5\u8207\u4eba\u985e\u7684\u8868\u73fe\u4ecd\u6709\u986f\u8457\u5dee\u8ddd\uff0c\u7279\u5225\u662f\u5728\u8907\u96dc\u7684\u554f\u984c\u4e0a\u3002\u96a8\u8457\u554f\u984c\u7684\u8907\u96dc\u6027\u589e\u52a0\uff0c\u554f\u984c\u548c SQL \u4e4b\u9593\u7684\u5dee\u8ddd\u4e5f\u96a8\u4e4b\u589e\u52a0\u3002\u6211\u5011\u627e\u51fa\u5169\u500b\u91cd\u8981\u7684\u5dee\u8ddd\uff1a\u7d50\u69cb\u5c0d\u61c9\u5dee\u8ddd\u548c\u8a5e\u5f59\u5c0d\u61c9\u5dee\u8ddd\u3002\u70ba\u4e86\u89e3\u6c7a\u9019\u5169\u500b\u5dee\u8ddd\uff0c\u6211\u5011\u63d0\u51fa PAS-SQL\uff0c\u4e00\u7a2e\u57fa\u65bc LLM \u7684\u9ad8\u6548 SQL \u7522\u751f\u7ba1\u9053\uff0c\u5b83\u900f\u904e\u62bd\u8c61\u67e5\u8a62\u6a21\u5f0f (AQP) \u548c\u60c5\u5883\u67b6\u69cb\u6a19\u8a18 (CSM) \u4f86\u7e2e\u5c0f\u5dee\u8ddd\u3002AQP \u65e8\u5728\u900f\u904e\u79fb\u9664\u8207\u8cc7\u6599\u5eab\u76f8\u95dc\u7684\u8cc7\u8a0a\u4f86\u53d6\u5f97\u554f\u984c\u7684\u7d50\u69cb\u6a21\u5f0f\uff0c\u9019\u4f7f\u6211\u5011\u80fd\u5920\u627e\u5230\u7d50\u69cb\u4e0a\u76f8\u4f3c\u7684\u7bc4\u4f8b\u3002CSM \u65e8\u5728\u5c07\u554f\u984c\u4e2d\u8207\u8cc7\u6599\u5eab\u76f8\u95dc\u7684\u6587\u5b57\u7bc4\u570d\u8207\u8cc7\u6599\u5eab\u4e2d\u7684\u7279\u5b9a\u8868\u683c\u6216\u6b04\u4f4d\u95dc\u806f\u8d77\u4f86\uff0c\u9019\u53ef\u4ee5\u7e2e\u5c0f\u8a5e\u5f59\u5c0d\u61c9\u5dee\u8ddd\u3002\u5728 Spider \u548c BIRD \u8cc7\u6599\u96c6\u4e0a\u7684\u5be6\u9a57\u7d50\u679c\u8b49\u660e\u4e86\u6211\u5011\u6240\u63d0\u51fa\u7684\u65b9\u6cd5\u7684\u6709\u6548\u6027\u3002\u5177\u9ad4\u4f86\u8aaa\uff0cPAS-SQL + GPT-4o \u5728 Spider \u57fa\u6e96\u6e2c\u8a66\u4e2d\u8a2d\u5b9a\u4e86\u4e00\u500b\u65b0\u7684\u6280\u8853\u6c34\u6e96\uff0c\u57f7\u884c\u6e96\u78ba\u5ea6\u70ba 87.9%\uff0c\u4e26\u5728 BIRD \u8cc7\u6599\u96c6\u4e0a\u53d6\u5f97\u9818\u5148\u7684\u7d50\u679c\uff0c\u57f7\u884c\u6e96\u78ba\u5ea6\u70ba 64.67%\u3002", "author": "Yonghui Kong et.al.", "authors": "Yonghui Kong, Hongbing Hu, Dan Zhang, Siyuan Chai, Fan Zhang, Wei Wang", "id": "2502.14682v1", "paper_url": "http://arxiv.org/abs/2502.14682v1", "repo": "null"}}